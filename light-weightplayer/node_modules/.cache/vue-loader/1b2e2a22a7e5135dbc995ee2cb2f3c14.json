{"remainingRequest":"C:\\Users\\w9747\\Downloads\\vue_cloud_music-master\\vue_cloud_music-master\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\w9747\\Downloads\\vue_cloud_music-master\\vue_cloud_music-master\\src\\views\\discover\\discoverChildren\\Singer.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\w9747\\Downloads\\vue_cloud_music-master\\vue_cloud_music-master\\src\\views\\discover\\discoverChildren\\Singer.vue","mtime":1632135031000},{"path":"C:\\Users\\w9747\\Downloads\\vue_cloud_music-master\\vue_cloud_music-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1636408355875},{"path":"C:\\Users\\w9747\\Downloads\\vue_cloud_music-master\\vue_cloud_music-master\\node_modules\\babel-loader\\lib\\index.js","mtime":1636408357214},{"path":"C:\\Users\\w9747\\Downloads\\vue_cloud_music-master\\vue_cloud_music-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1636408355875},{"path":"C:\\Users\\w9747\\Downloads\\vue_cloud_music-master\\vue_cloud_music-master\\node_modules\\vue-loader\\lib\\index.js","mtime":1636408357599}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBMaXN0Q2FyZCBmcm9tICJjb21wb25lbnRzL2xpc3RDYXJkL0xpc3RDYXJkLnZ1ZSI7CmltcG9ydCBTZWNvbmROYXZCYXIgZnJvbSAiY29tcG9uZW50cy9zZWNvbmROYXZCYXIvU2Vjb25kTmF2QmFyLnZ1ZSI7CmltcG9ydCBHb1RvcCBmcm9tICJjb21wb25lbnRzL2dvVG9wL0dvVG9wLnZ1ZSI7CmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7IFNlY29uZE5hdkJhciwgTGlzdENhcmQsIEdvVG9wIH0sCiAgbmFtZTogInNpbmdlciIsCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGxhbmd1YWdlU29ydDogWwogICAgICAgIHsgYXJlYTogLTEsIG5hbWU6ICLlhajpg6giIH0sCiAgICAgICAgeyBhcmVhOiA3LCBuYW1lOiAi5Y2O6K+tIiB9LAogICAgICAgIHsgYXJlYTogOTYsIG5hbWU6ICLmrKfnvo4iIH0sCiAgICAgICAgeyBhcmVhOiA4LCBuYW1lOiAi5pel5pysIiB9LAogICAgICAgIHsgYXJlYTogMTYsIG5hbWU6ICLpn6nlm70iIH0sCiAgICAgICAgeyBhcmVhOiAwLCBuYW1lOiAi5YW25a6DIiB9LAogICAgICBdLAogICAgICB0eXBlU29ydDogWwogICAgICAgIHsgdHlwZTogLTEsIG5hbWU6ICLlhajpg6giIH0sCiAgICAgICAgeyB0eXBlOiAxLCBuYW1lOiAi55S35q2M5omLIiB9LAogICAgICAgIHsgdHlwZTogMiwgbmFtZTogIuWls+atjOaJiyIgfSwKICAgICAgICB7IHR5cGU6IDMsIG5hbWU6ICLkuZDpmJ8iIH0sCiAgICAgIF0sCiAgICAgIGluaXRpYWxTb3J0OiBbCiAgICAgICAgeyBpbml0aWFsOiAtMSwgbmFtZTogIueDremXqCIgfSwKICAgICAgICB7IGluaXRpYWw6ICJhIiwgbmFtZTogIkEiIH0sCiAgICAgICAgeyBpbml0aWFsOiAiYiIsIG5hbWU6ICJCIiB9LAogICAgICAgIHsgaW5pdGlhbDogImMiLCBuYW1lOiAiQyIgfSwKICAgICAgICB7IGluaXRpYWw6ICJkIiwgbmFtZTogIkQiIH0sCiAgICAgICAgeyBpbml0aWFsOiAiZSIsIG5hbWU6ICJFIiB9LAogICAgICAgIHsgaW5pdGlhbDogImYiLCBuYW1lOiAiRiIgfSwKICAgICAgICB7IGluaXRpYWw6ICJnIiwgbmFtZTogIkciIH0sCiAgICAgICAgeyBpbml0aWFsOiAiaCIsIG5hbWU6ICJIIiB9LAogICAgICAgIHsgaW5pdGlhbDogImkiLCBuYW1lOiAiSSIgfSwKICAgICAgICB7IGluaXRpYWw6ICJqIiwgbmFtZTogIkoiIH0sCiAgICAgICAgeyBpbml0aWFsOiAiayIsIG5hbWU6ICJLIiB9LAogICAgICAgIHsgaW5pdGlhbDogImwiLCBuYW1lOiAiTCIgfSwKICAgICAgICB7IGluaXRpYWw6ICJtIiwgbmFtZTogIk0iIH0sCiAgICAgICAgeyBpbml0aWFsOiAibiIsIG5hbWU6ICJOIiB9LAogICAgICAgIHsgaW5pdGlhbDogIm8iLCBuYW1lOiAiTyIgfSwKICAgICAgICB7IGluaXRpYWw6ICJwIiwgbmFtZTogIlAiIH0sCiAgICAgICAgeyBpbml0aWFsOiAicSIsIG5hbWU6ICJRIiB9LAogICAgICAgIHsgaW5pdGlhbDogInIiLCBuYW1lOiAiUiIgfSwKICAgICAgICB7IGluaXRpYWw6ICJzIiwgbmFtZTogIlMiIH0sCiAgICAgICAgeyBpbml0aWFsOiAidCIsIG5hbWU6ICJUIiB9LAogICAgICAgIHsgaW5pdGlhbDogInUiLCBuYW1lOiAiVSIgfSwKICAgICAgICB7IGluaXRpYWw6ICJ2IiwgbmFtZTogIlYiIH0sCiAgICAgICAgeyBpbml0aWFsOiAidyIsIG5hbWU6ICJXIiB9LAogICAgICAgIHsgaW5pdGlhbDogIngiLCBuYW1lOiAiWCIgfSwKICAgICAgICB7IGluaXRpYWw6ICJ5IiwgbmFtZTogIlkiIH0sCiAgICAgICAgeyBpbml0aWFsOiAieiIsIG5hbWU6ICJaIiB9LAogICAgICAgIHsgaW5pdGlhbDogMCwgbmFtZTogIiMiIH0sCiAgICAgIF0sCiAgICAgIGFyZWE6IC0xLAogICAgICB0eXBlOiAtMSwKICAgICAgaW5pdGlhbDogLTEsCiAgICAgIC8vIOW9k+WJjeaJgOWcqOmhteaVsAogICAgICBjdXJyZW50UGFnZTogMSwKICAgICAgc2luZ2VyTGlzdDogW10sCiAgICAgIC8vIOaYr+WQpui/mOacieabtOWkmuaVsOaNrgogICAgICBpc01vcmU6IGZhbHNlLAogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIC8vIOivt+axggogICAgLy8g6K+35rGC5q2M5omL5YiX6KGoCiAgICBhc3luYyBnZXRTaW5nZXJMaXN0KCkgewogICAgICBsZXQgcmVzID0gYXdhaXQgdGhpcy4kcmVxdWVzdCgiL2FydGlzdC9saXN0IiwgewogICAgICAgIHR5cGU6IHRoaXMudHlwZSwKICAgICAgICBhcmVhOiB0aGlzLmFyZWEsCiAgICAgICAgaW5pdGlhbDogdGhpcy5pbml0aWFsLAogICAgICAgIG9mZnNldDogKHRoaXMuY3VycmVudFBhZ2UgLSAxKSAqIDMwLAogICAgICB9KTsKICAgICAgY29uc29sZS5sb2cocmVzKTsKICAgICAgdGhpcy5zaW5nZXJMaXN0LnB1c2goLi4ucmVzLmRhdGEuYXJ0aXN0cyk7CiAgICAgIHRoaXMuaXNNb3JlID0gcmVzLmRhdGEubW9yZTsKICAgIH0sCgogICAgLy8g5LqL5Lu25aSE55CGCiAgICAvLyDlnLDljLoKICAgIGFyZWFJdGVtKGluZGV4KSB7CiAgICAgIGNvbnNvbGUubG9nKHRoaXMubGFuZ3VhZ2VTb3J0W2luZGV4XS5hcmVhKTsKICAgICAgdGhpcy5hcmVhID0gdGhpcy5sYW5ndWFnZVNvcnRbaW5kZXhdLmFyZWE7CiAgICAgIC8vIOWFiOa4heepumxpc3Qg5YaN6K+35rGC5pWw5o2uCiAgICAgIHRoaXMuc2luZ2VyTGlzdCA9IFtdOwogICAgICB0aGlzLmN1cnJlbnRQYWdlID0gMTsKICAgICAgdGhpcy5nZXRTaW5nZXJMaXN0KCk7CiAgICB9LAogICAgLy8g5YiG57G7CiAgICB0eXBlSXRlbShpbmRleCkgewogICAgICBjb25zb2xlLmxvZyh0aGlzLnR5cGVTb3J0W2luZGV4XS50eXBlKTsKICAgICAgdGhpcy50eXBlID0gdGhpcy50eXBlU29ydFtpbmRleF0udHlwZTsKICAgICAgLy8g5YWI5riF56m6bGlzdCDlho3or7fmsYLmlbDmja4KICAgICAgdGhpcy5jdXJyZW50UGFnZSA9IDE7CiAgICAgIHRoaXMuc2luZ2VyTGlzdCA9IFtdOwogICAgICB0aGlzLmdldFNpbmdlckxpc3QoKTsKICAgIH0sCiAgICAvLyDnrZvpgIkKICAgIGluaXRpYWxJdGVtKGluZGV4KSB7CiAgICAgIGNvbnNvbGUubG9nKHRoaXMuaW5pdGlhbFNvcnRbaW5kZXhdLmluaXRpYWwpOwogICAgICB0aGlzLmluaXRpYWwgPSB0aGlzLmluaXRpYWxTb3J0W2luZGV4XS5pbml0aWFsOwogICAgICAvLyDlhYjmuIXnqbpsaXN0IOWGjeivt+axguaVsOaNrgogICAgICB0aGlzLmN1cnJlbnRQYWdlID0gMTsKICAgICAgdGhpcy5zaW5nZXJMaXN0ID0gW107CiAgICAgIHRoaXMuZ2V0U2luZ2VyTGlzdCgpOwogICAgfSwKICAgIC8vIOeCueWHu+atjOaJi2l0ZW3nmoTlm57osIMKICAgIGNsaWNrTGlzdENhcmRJdGVtKGlkKSB7CiAgICAgIC8vIGNvbnNvbGUubG9nKGlkKTsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goeyBuYW1lOiAic2luZ2VyRGV0YWlsIiwgcGFyYW1zOiB7IGlkIH0gfSk7CiAgICB9LAogICAgLy8g5Y2h54mH5LiK5ouJ6Kem5bqV6Kem5Y+RCiAgICBib3R0b21Mb2FkKCkgewogICAgICAvLyBjb25zb2xlLmxvZygiYm90dG9tTG9hZCIpOwogICAgICAvLyDlpoLmnpzov5jmnInmm7TlpJrmlbDmja4g5YiZ5Y+R6YCB6K+35rGCIOWwhuaVsOaNriBwdXNo5Yiw5pWw57uECiAgICAgIGlmICh0aGlzLmlzTW9yZSA9PSB0cnVlKSB7CiAgICAgICAgdGhpcy5jdXJyZW50UGFnZSArPSAxOwogICAgICAgIHRoaXMuZ2V0U2luZ2VyTGlzdCgpOwogICAgICB9CiAgICB9LAogIH0sCiAgY3JlYXRlZCgpIHsKICAgIHRoaXMuZ2V0U2luZ2VyTGlzdCgpOwogIH0sCiAgbW91bnRlZCgpIHt9LAp9Owo="},{"version":3,"sources":["Singer.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Singer.vue","sourceRoot":"src/views/discover/discoverChildren","sourcesContent":["<template>\n  <div class=\"singerContainer\">\n    <div class=\"singer\">\n      <!-- 歌手分类选择 -->\n      <div class=\"selectors\">\n        <div class=\"selectorItem\">\n          <div class=\"title\">语种：</div>\n          <second-nav-bar\n            :SecondNavBarData=\"languageSort\"\n            @clickSecondBarItem=\"areaItem\"\n            class=\"secondNavBar\"\n          ></second-nav-bar>\n        </div>\n        <div class=\"selectorItem\">\n          <div class=\"title\">分类：</div>\n          <second-nav-bar\n            :SecondNavBarData=\"typeSort\"\n            @clickSecondBarItem=\"typeItem\"\n            class=\"secondNavBar\"\n          ></second-nav-bar>\n        </div>\n        <div class=\"selectorItem\">\n          <div class=\"title\">筛选：</div>\n          <second-nav-bar\n            :SecondNavBarData=\"initialSort\"\n            @clickSecondBarItem=\"initialItem\"\n            class=\"secondNavBar\"\n          ></second-nav-bar>\n        </div>\n      </div>\n      <div class=\"listCardContainer\">\n        <!-- 歌手列表 -->\n        <list-card\n          class=\"listCard\"\n          :listCardData=\"singerList\"\n          @clickListCardItem=\"clickListCardItem\"\n          isLoad\n          @bottomLoad=\"bottomLoad\"\n        ></list-card>\n      </div>\n    </div>\n    <go-top scrollObj=\".singerContainer\"></go-top>\n  </div>\n</template>\n\n<script>\nimport ListCard from \"components/listCard/ListCard.vue\";\nimport SecondNavBar from \"components/secondNavBar/SecondNavBar.vue\";\nimport GoTop from \"components/goTop/GoTop.vue\";\nexport default {\n  components: { SecondNavBar, ListCard, GoTop },\n  name: \"singer\",\n  data() {\n    return {\n      languageSort: [\n        { area: -1, name: \"全部\" },\n        { area: 7, name: \"华语\" },\n        { area: 96, name: \"欧美\" },\n        { area: 8, name: \"日本\" },\n        { area: 16, name: \"韩国\" },\n        { area: 0, name: \"其它\" },\n      ],\n      typeSort: [\n        { type: -1, name: \"全部\" },\n        { type: 1, name: \"男歌手\" },\n        { type: 2, name: \"女歌手\" },\n        { type: 3, name: \"乐队\" },\n      ],\n      initialSort: [\n        { initial: -1, name: \"热门\" },\n        { initial: \"a\", name: \"A\" },\n        { initial: \"b\", name: \"B\" },\n        { initial: \"c\", name: \"C\" },\n        { initial: \"d\", name: \"D\" },\n        { initial: \"e\", name: \"E\" },\n        { initial: \"f\", name: \"F\" },\n        { initial: \"g\", name: \"G\" },\n        { initial: \"h\", name: \"H\" },\n        { initial: \"i\", name: \"I\" },\n        { initial: \"j\", name: \"J\" },\n        { initial: \"k\", name: \"K\" },\n        { initial: \"l\", name: \"L\" },\n        { initial: \"m\", name: \"M\" },\n        { initial: \"n\", name: \"N\" },\n        { initial: \"o\", name: \"O\" },\n        { initial: \"p\", name: \"P\" },\n        { initial: \"q\", name: \"Q\" },\n        { initial: \"r\", name: \"R\" },\n        { initial: \"s\", name: \"S\" },\n        { initial: \"t\", name: \"T\" },\n        { initial: \"u\", name: \"U\" },\n        { initial: \"v\", name: \"V\" },\n        { initial: \"w\", name: \"W\" },\n        { initial: \"x\", name: \"X\" },\n        { initial: \"y\", name: \"Y\" },\n        { initial: \"z\", name: \"Z\" },\n        { initial: 0, name: \"#\" },\n      ],\n      area: -1,\n      type: -1,\n      initial: -1,\n      // 当前所在页数\n      currentPage: 1,\n      singerList: [],\n      // 是否还有更多数据\n      isMore: false,\n    };\n  },\n  methods: {\n    // 请求\n    // 请求歌手列表\n    async getSingerList() {\n      let res = await this.$request(\"/artist/list\", {\n        type: this.type,\n        area: this.area,\n        initial: this.initial,\n        offset: (this.currentPage - 1) * 30,\n      });\n      console.log(res);\n      this.singerList.push(...res.data.artists);\n      this.isMore = res.data.more;\n    },\n\n    // 事件处理\n    // 地区\n    areaItem(index) {\n      console.log(this.languageSort[index].area);\n      this.area = this.languageSort[index].area;\n      // 先清空list 再请求数据\n      this.singerList = [];\n      this.currentPage = 1;\n      this.getSingerList();\n    },\n    // 分类\n    typeItem(index) {\n      console.log(this.typeSort[index].type);\n      this.type = this.typeSort[index].type;\n      // 先清空list 再请求数据\n      this.currentPage = 1;\n      this.singerList = [];\n      this.getSingerList();\n    },\n    // 筛选\n    initialItem(index) {\n      console.log(this.initialSort[index].initial);\n      this.initial = this.initialSort[index].initial;\n      // 先清空list 再请求数据\n      this.currentPage = 1;\n      this.singerList = [];\n      this.getSingerList();\n    },\n    // 点击歌手item的回调\n    clickListCardItem(id) {\n      // console.log(id);\n      this.$router.push({ name: \"singerDetail\", params: { id } });\n    },\n    // 卡片上拉触底触发\n    bottomLoad() {\n      // console.log(\"bottomLoad\");\n      // 如果还有更多数据 则发送请求 将数据 push到数组\n      if (this.isMore == true) {\n        this.currentPage += 1;\n        this.getSingerList();\n      }\n    },\n  },\n  created() {\n    this.getSingerList();\n  },\n  mounted() {},\n};\n</script>\n\n<style scoped>\n.singerContainer {\n  display: flex;\n  justify-content: center;\n}\n\n.singer {\n  max-width: 1000px;\n  padding: 0 10px;\n}\n\n.selectorItem {\n  display: flex;\n}\n\n.title {\n  font-size: 12px;\n  width: 40px;\n  line-height: 33px;\n}\n\n.secondNavBar {\n  width: calc(100% - 60px);\n}\n\n.page {\n  width: 100%;\n  text-align: center;\n  padding-bottom: 20px;\n}\n\n.listCardContainer {\n  width: 100%;\n  display: flex;\n  justify-content: center;\n}\n</style>"]}]}