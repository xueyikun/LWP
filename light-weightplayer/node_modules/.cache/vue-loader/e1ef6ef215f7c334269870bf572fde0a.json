{"remainingRequest":"D:\\light-weightPlayer\\light-weightplayer\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\light-weightPlayer\\light-weightplayer\\src\\views\\discover\\discoverChildren\\musicListChildren\\MusicListIndex.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\light-weightPlayer\\light-weightplayer\\src\\views\\discover\\discoverChildren\\musicListChildren\\MusicListIndex.vue","mtime":1632135031000},{"path":"D:\\light-weightPlayer\\light-weightplayer\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1636408355875},{"path":"D:\\light-weightPlayer\\light-weightplayer\\node_modules\\babel-loader\\lib\\index.js","mtime":1636408357214},{"path":"D:\\light-weightPlayer\\light-weightplayer\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1636408355875},{"path":"D:\\light-weightPlayer\\light-weightplayer\\node_modules\\vue-loader\\lib\\index.js","mtime":1636408357599}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBTZWNvbmROYXZCYXIgZnJvbSAiY29tcG9uZW50cy9zZWNvbmROYXZCYXIvU2Vjb25kTmF2QmFyLnZ1ZSI7CmltcG9ydCBMaXN0Q2FyZCBmcm9tICJjb21wb25lbnRzL2xpc3RDYXJkL0xpc3RDYXJkLnZ1ZSI7CmltcG9ydCBTb3J0Qm94IGZyb20gImNvbXBvbmVudHMvc29ydEJveC9Tb3J0Qm94LnZ1ZSI7CmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICBTZWNvbmROYXZCYXIsCiAgICBMaXN0Q2FyZCwKICAgIFNvcnRCb3gsCiAgfSwKICBuYW1lOiAibXVzaWNMaXN0SW5kZXgiLAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB0aGVGaXJzdE9mSGlnaHF1YWxpdHk6IHt9LAogICAgICBob3RUYWdzOiBbXSwKICAgICAgbXVzaWNMaXN0OiB7fSwKICAgICAgY3VycmVudFRhZzoge30sCiAgICAgIGN1cnJlbnRQYWdlOiAxLAogICAgICAvLyDliIbnsbvmlbDmja4KICAgICAgc29ydExpc3Q6IFtdLAogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIC8vIOWkhOeQhuivt+axguS6i+S7tgogICAgLy8g6I635Y+W6auY6LSo6YeP5q2M5Y2V55qE56ys5LiA5p2h5pWw5o2uCiAgICBhc3luYyBnZXRUaGVGaXJzdE9mSGlnaHF1YWxpdHkoKSB7CiAgICAgIGxldCByZXN1bHQgPSBhd2FpdCB0aGlzLiRyZXF1ZXN0KCIvdG9wL3BsYXlsaXN0L2hpZ2hxdWFsaXR5IiwgewogICAgICAgIGxpbWl0OiAxLAogICAgICB9KTsKICAgICAgLy8gICBjb25zb2xlLmxvZyhyZXN1bHQpOwogICAgICB0aGlzLnRoZUZpcnN0T2ZIaWdocXVhbGl0eSA9IHJlc3VsdC5kYXRhLnBsYXlsaXN0c1swXTsKICAgICAgLy8gICBjb25zb2xlLmxvZyh0aGlzLnRoZUZpcnN0T2ZIaWdocXVhbGl0eSk7CiAgICB9LAogICAgLy8g6I635Y+W54Ot6Zeo5q2M5Y2VdGFn5pWw5o2uCiAgICBhc3luYyBnZXRIb3RUYWcoKSB7CiAgICAgIGxldCByZXN1bHQgPSBhd2FpdCB0aGlzLiRyZXF1ZXN0KCIvcGxheWxpc3QvaG90Iik7CiAgICAgIC8vIGNvbnNvbGUubG9nKHJlc3VsdCk7CiAgICAgIHRoaXMuY3VycmVudFRhZyA9IHJlc3VsdC5kYXRhLnRhZ3NbMF07CiAgICAgIHRoaXMuaG90VGFncyA9IHJlc3VsdC5kYXRhLnRhZ3M7CiAgICB9LAogICAgLy8g5qC55o2u5q2M5ZCN6K+35rGC5q2M5Y2V5YiX6KGoCiAgICBhc3luYyBnZXRNdXNpY0xpc3QoKSB7CiAgICAgIHRoaXMubXVzaWNMaXN0ID0ge307CiAgICAgIGxldCByZXN1bHQgPSBhd2FpdCB0aGlzLiRyZXF1ZXN0KCIvdG9wL3BsYXlsaXN0IiwgewogICAgICAgIGNhdDogdGhpcy5jdXJyZW50VGFnLm5hbWUsCiAgICAgICAgb2Zmc2V0OiA1MCAqICh0aGlzLmN1cnJlbnRQYWdlIC0gMSksCiAgICAgIH0pOwogICAgICAvLyBjb25zb2xlLmxvZyhyZXN1bHQpOwogICAgICAvLyDph4zpnaLnmoR0b3RhbOWPr+S7peeUqOS6juWIhumhte+8jOaJgOS7peaKiuaVtOS4quWvueixoemDveS/neWtmOS4i+adpQogICAgICB0aGlzLm11c2ljTGlzdCA9IHJlc3VsdC5kYXRhOwogICAgfSwKCiAgICAvLyDojrflj5bmrYzljZXliIbnsbvmlbDmja4KICAgIGFzeW5jIGdldFNvcnRMaXN0KCkgewogICAgICBsZXQgcmVzID0gYXdhaXQgdGhpcy4kcmVxdWVzdCgiL3BsYXlsaXN0L2NhdGxpc3QiKTsKICAgICAgLy8gY29uc29sZS5sb2cocmVzKTsKICAgICAgdGhpcy5zb3J0TGlzdCA9IHJlcy5kYXRhLnN1YjsKICAgIH0sCgogICAgLy8g5aSE55CG54K55Ye75LqL5Lu2CiAgICAvLyDmjqXmlLbngrnlh7vkuoznuqduYXZiYXLnmoTlm57osIMKICAgIGNsaWNrU2Vjb25kQmFySXRlbShpbmRleCkgewogICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLmhvdFRhZ3NbaW5kZXhdLm5hbWUpOwogICAgICB0aGlzLmN1cnJlbnRUYWcgPSB0aGlzLmhvdFRhZ3NbaW5kZXhdOwogICAgICB0aGlzLmN1cnJlbnRQYWdlID0gMTsKICAgICAgLy8g5YWI5riF56m6bXVzaWNMaXN0CiAgICAgIHRoaXMuZ2V0TXVzaWNMaXN0KCk7CiAgICB9LAogICAgLy/lvZPpobXmlbDlj5HnlJ/mlLnlj5jml7YKICAgIHBhZ2VDaGFuZ2UocGFnZSkgewogICAgICAvLyBwYWdl5piv5b2T5YmN6aG15pWwCiAgICAgIC8vIGNvbnNvbGUubG9nKGUpOwogICAgICB0aGlzLmN1cnJlbnRQYWdlID0gcGFnZTsKICAgICAgdGhpcy5nZXRNdXNpY0xpc3QoKTsKICAgIH0sCiAgICAvLyDngrnlh7vmrYzljZXnmoTlm57osIMKICAgIGNsaWNrTGlzdENhcmRJdGVtKGlkKSB7CiAgICAgIGNvbnNvbGUubG9nKGlkKTsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goeyBuYW1lOiAibXVzaWNMaXN0RGV0YWlsIiwgcGFyYW1zOiB7IGlkIH0gfSk7CiAgICB9LAogICAgLy8g54K55Ye7c29ydEJveEl0ZW3kuK3nmoTlm57osIMKICAgIGNsaWNrU29ydEJveEl0ZW0oaXRlbSkgewogICAgICB0aGlzLmN1cnJlbnRUYWcgPSBpdGVtOwogICAgICB0aGlzLmN1cnJlbnRQYWdlID0gMTsKICAgICAgdGhpcy5nZXRNdXNpY0xpc3QoKTsKICAgIH0sCiAgfSwKICAvLyBjcmVhdGVk55Sf5ZG95ZGo5pyfCiAgYXN5bmMgY3JlYXRlZCgpIHsKICAgIHRoaXMuZ2V0VGhlRmlyc3RPZkhpZ2hxdWFsaXR5KCk7CiAgICBhd2FpdCB0aGlzLmdldEhvdFRhZygpOwogICAgdGhpcy5nZXRNdXNpY0xpc3QoKTsKICB9LAp9Owo="},{"version":3,"sources":["MusicListIndex.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"MusicListIndex.vue","sourceRoot":"src/views/discover/discoverChildren/musicListChildren","sourcesContent":["<template>\n  <div class=\"musicListIndex\">\n    <!-- 精选歌单入口展示 -->\n    <div class=\"highqualityEntry\">\n      <img\n        :src=\"theFirstOfHighquality.coverImgUrl\"\n        alt=\"\"\n        class=\"backgroundImg\"\n      />\n      <div class=\"cover\">\n        <img :src=\"theFirstOfHighquality.coverImgUrl\" alt=\"\" />\n      </div>\n      <div class=\"EntryInfo\">\n        <div class=\"tag\"><i class=\"iconfont icon-good\"></i> 精品歌单</div>\n        <div class=\"name\">{{ theFirstOfHighquality.name }}</div>\n        <div class=\"desc\">{{ theFirstOfHighquality.copywriter }}</div>\n      </div>\n    </div>\n    <!-- 歌单列表 -->\n    <div class=\"musicListNavBar\">\n      <div class=\"left\">\n        <sort-box\n          :currentTag=\"currentTag\"\n          :sortList=\"sortList\"\n          @getSortList=\"getSortList\"\n          @clickSortBoxItem=\"clickSortBoxItem\"\n        ></sort-box>\n      </div>\n      <div class=\"right\">\n        <second-nav-bar\n          :SecondNavBarData=\"hotTags\"\n          :itemWidth=\"0\"\n          :currentTag=\"currentTag\"\n          @clickSecondBarItem=\"clickSecondBarItem\"\n        ></second-nav-bar>\n      </div>\n    </div>\n    <!-- 展示歌单列表 -->\n    <list-card\n      :listCardData=\"musicList.playlists\"\n      @clickListCardItem=\"clickListCardItem\"\n    ></list-card>\n    <!-- 分页 -->\n    <div class=\"page\" v-if=\"musicList.playlists\">\n      <el-pagination\n        background\n        layout=\"prev, pager, next\"\n        :total=\"musicList.total\"\n        :page-size=\"50\"\n        small\n        :current-page=\"currentPage\"\n        @current-change=\"pageChange\"\n      >\n      </el-pagination>\n    </div>\n  </div>\n</template>\n\n<script>\nimport SecondNavBar from \"components/secondNavBar/SecondNavBar.vue\";\nimport ListCard from \"components/listCard/ListCard.vue\";\nimport SortBox from \"components/sortBox/SortBox.vue\";\nexport default {\n  components: {\n    SecondNavBar,\n    ListCard,\n    SortBox,\n  },\n  name: \"musicListIndex\",\n  data() {\n    return {\n      theFirstOfHighquality: {},\n      hotTags: [],\n      musicList: {},\n      currentTag: {},\n      currentPage: 1,\n      // 分类数据\n      sortList: [],\n    };\n  },\n  methods: {\n    // 处理请求事件\n    // 获取高质量歌单的第一条数据\n    async getTheFirstOfHighquality() {\n      let result = await this.$request(\"/top/playlist/highquality\", {\n        limit: 1,\n      });\n      //   console.log(result);\n      this.theFirstOfHighquality = result.data.playlists[0];\n      //   console.log(this.theFirstOfHighquality);\n    },\n    // 获取热门歌单tag数据\n    async getHotTag() {\n      let result = await this.$request(\"/playlist/hot\");\n      // console.log(result);\n      this.currentTag = result.data.tags[0];\n      this.hotTags = result.data.tags;\n    },\n    // 根据歌名请求歌单列表\n    async getMusicList() {\n      this.musicList = {};\n      let result = await this.$request(\"/top/playlist\", {\n        cat: this.currentTag.name,\n        offset: 50 * (this.currentPage - 1),\n      });\n      // console.log(result);\n      // 里面的total可以用于分页，所以把整个对象都保存下来\n      this.musicList = result.data;\n    },\n\n    // 获取歌单分类数据\n    async getSortList() {\n      let res = await this.$request(\"/playlist/catlist\");\n      // console.log(res);\n      this.sortList = res.data.sub;\n    },\n\n    // 处理点击事件\n    // 接收点击二级navbar的回调\n    clickSecondBarItem(index) {\n      // console.log(this.hotTags[index].name);\n      this.currentTag = this.hotTags[index];\n      this.currentPage = 1;\n      // 先清空musicList\n      this.getMusicList();\n    },\n    //当页数发生改变时\n    pageChange(page) {\n      // page是当前页数\n      // console.log(e);\n      this.currentPage = page;\n      this.getMusicList();\n    },\n    // 点击歌单的回调\n    clickListCardItem(id) {\n      console.log(id);\n      this.$router.push({ name: \"musicListDetail\", params: { id } });\n    },\n    // 点击sortBoxItem中的回调\n    clickSortBoxItem(item) {\n      this.currentTag = item;\n      this.currentPage = 1;\n      this.getMusicList();\n    },\n  },\n  // created生命周期\n  async created() {\n    this.getTheFirstOfHighquality();\n    await this.getHotTag();\n    this.getMusicList();\n  },\n};\n</script>\n\n<style scoped>\n.highqualityEntry {\n  position: relative;\n  width: 100%;\n  height: 140px;\n  border-radius: 10px;\n  overflow: hidden;\n  display: flex;\n}\n.backgroundImg {\n  position: absolute;\n  left: 0;\n  top: 0;\n  z-index: -1;\n  width: 100%;\n  transform: translateY(-80px);\n  filter: blur(30px) brightness(70%);\n}\n\n.cover {\n  width: 120px;\n  height: 120px;\n  margin: 10px;\n}\n\n.cover img {\n  border-radius: 10px;\n  width: 100%;\n}\n\n.tag {\n  color: #d59e54;\n  border: 1px solid #d59e54;\n  padding: 5px 10px;\n  width: 88px;\n  font-size: 12px;\n  margin: 20px 10px 15px;\n  border-radius: 15px;\n}\n\n.tag i {\n  font-size: 14px;\n}\n\n.name {\n  color: white;\n  font-size: 14px;\n  margin: 10px 0;\n}\n\n.desc {\n  color: rgba(255, 255, 255, 0.5);\n  /* 字体直接写小于12没有效果 */\n  font-size: 12px;\n  transform: scale(0.9, 0.9);\n}\n\n.musicListNavBar {\n  padding: 10px 0;\n  display: flex;\n  justify-content: space-between;\n  font-size: 12px;\n}\n\n.page {\n  width: 100%;\n  text-align: center;\n  padding-bottom: 20px;\n}\n</style>"]}]}