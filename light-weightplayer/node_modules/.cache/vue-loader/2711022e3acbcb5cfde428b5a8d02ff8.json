{"remainingRequest":"D:\\GH\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\GH\\LWP\\light-weightplayer\\src\\components\\headerBar\\HeaderBar.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\GH\\LWP\\light-weightplayer\\src\\components\\headerBar\\HeaderBar.vue","mtime":1636677638281},{"path":"D:\\GH\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1636408355875},{"path":"D:\\GH\\node_modules\\babel-loader\\lib\\index.js","mtime":1636408357214},{"path":"D:\\GH\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1636408355875},{"path":"D:\\GH\\node_modules\\vue-loader\\lib\\index.js","mtime":1636408357599}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IGhhbmRsZU11c2ljVGltZSB9IGZyb20gInBsdWdpbnMvdXRpbHMiOwppbXBvcnQgUmVnaXN0ZXJlZCBmcm9tICJjb21wb25lbnRzL3JlZ2lzdGVyZWQvUmVnaXN0ZXJlZC52dWUiOwppbXBvcnQgTG9naW4gZnJvbSAiY29tcG9uZW50cy9sb2dpbi9Mb2dpbi52dWUiOwovLyDoioLmtYHlrprml7blmajlkI3np7AKbGV0IHRpbWVyOwoKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsgUmVnaXN0ZXJlZCwgTG9naW4gfSwKICBuYW1lOiAiSGVhZGVyQmFyIiwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdXNlckluZm86IHt9LAogICAgICBpc1BvcG92ZXJTaG93OiBmYWxzZSwKICAgICAgLy8g5piv5ZCm5pi+56S6c2VhcmNoUG9wCiAgICAgIGlzU2VhcmNoUG9wU2hvdzogZmFsc2UsCiAgICAgIC8vIOeDreaQnOWIl+ihqOaVsOaNrgogICAgICBob3RTZWFyY2hMaXN0OiBbXSwKICAgICAgLy8g6ZyA6KaB5pCc57Si55qE5YaF5a65CiAgICAgIHNlYXJjaElucHV0OiAiIiwKICAgICAgLy8g5pCc57Si5bu66K6u5YiX6KGoCiAgICAgIHNlYXJjaFN1Z2dlc3RMaXN0OiB7fSwKICAgICAgLy8g5piv5ZCm5pi+56S65rOo5YaM5qGGCiAgICAgIGlzUmVnaXN0ZXJlZFNob3c6IGZhbHNlLAogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIC8vICAg6K+35rGCCiAgICAvLyDmiYvmnLrliY3nq6/pqozor4HmraPliJnooajovr7lvI8KICAgIC8vIGxldCBwaG9uZVJlZyA9IC9eMSgzfDR8NXw2fDd8OHw5KVxkezl9JC87CgogICAgLy8g6I635Y+W54Ot5pCc5YiX6KGoCiAgICBhc3luYyBnZXRIb3RTZWFyY2goKSB7CiAgICAgIGxldCByZXMgPSBhd2FpdCB0aGlzLiRyZXF1ZXN0KCIvc2VhcmNoL2hvdC9kZXRhaWwiKTsKICAgICAgLy8gY29uc29sZS5sb2cocmVzKTsKICAgICAgdGhpcy5ob3RTZWFyY2hMaXN0ID0gcmVzLmRhdGEuZGF0YTsKICAgIH0sCiAgICAvLyDojrflj5bmkJzntKLlu7rorq4KICAgIGFzeW5jIGdldFNlYXJjaFN1Z2dlc3Qoa2V5d29yZHMpIHsKICAgICAgbGV0IHJlcyA9IGF3YWl0IHRoaXMuJHJlcXVlc3QoIi9zZWFyY2gvc3VnZ2VzdCIsIHsga2V5d29yZHMgfSk7CiAgICAgIGNvbnNvbGUubG9nKHJlcyk7CiAgICAgIHRoaXMuc2VhcmNoU3VnZ2VzdExpc3QgPSByZXMuZGF0YS5yZXN1bHQ7CiAgICB9LAogICAgLy8g5qC55o2uaWTojrflj5bmrYzmm7Lor6bmg4UKICAgIGFzeW5jIGdldE11c2ljSW5mbyhpZHMpIHsKICAgICAgbGV0IHJlcyA9IGF3YWl0IHRoaXMuJHJlcXVlc3QoIi9zb25nL2RldGFpbCIsIHsgaWRzIH0pOwogICAgICBjb25zb2xlLmxvZyhyZXMpOwogICAgICAvLyDlpITnkIbml7bpl7QKICAgICAgcmVzLmRhdGEuc29uZ3NbMF0uZHQgPSBoYW5kbGVNdXNpY1RpbWUocmVzLmRhdGEuc29uZ3NbMF0uZHQpOwogICAgICByZXR1cm4gcmVzLmRhdGEuc29uZ3NbMF07CiAgICB9LAoKICAgIC8vIOiOt+WPluW9k+WJjeeUqOaIt+S/oeaBrwogICAgYXN5bmMgZ2V0Q3VycmVudFVzZXJJbmZvKCkgewogICAgICB2YXIgdGltZXN0YW1wID0gRGF0ZS5wYXJzZShuZXcgRGF0ZSgpKTsKICAgICAgbGV0IHJlcyA9IGF3YWl0IHRoaXMuJHJlcXVlc3QoIi91c2VyL2FjY291bnQiLCB7CiAgICAgICAgdGltZXN0YW1wLAogICAgICB9KTsKICAgICAgLy8gY29uc29sZS5sb2cocmVzKTsKICAgICAgaWYgKHJlcy5kYXRhLnByb2ZpbGUgIT0gbnVsbCkgewogICAgICAgIHRoaXMudXNlckluZm8gPSByZXMuZGF0YS5wcm9maWxlOwogICAgICAgIC8vIOabtOaWsOeZu+W9leeKtuaAgQogICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgidXBkYXRhTG9naW5TdGF0ZSIsIHRydWUpOwogICAgICAgIC8vIOabtOaWsOW9k+WJjeeUqOaIt2lkCiAgICAgICAgLy8gdGhpcy4kc3RvcmUuY29tbWl0KCJ1cGRhdGVDdXJyZW50VXNlcklkIiwgcmVzLmRhdGEucHJvZmlsZS51c2VySWQpOwogICAgICAgIC8vIOWwhuivt+axguWIsOeahOeUqOaIt2lk5a2Y5YWlbG9jYWxzdG9yYWdlCiAgICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKCJ1c2VySWQiLCByZXMuZGF0YS5wcm9maWxlLnVzZXJJZCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgLy8g5pyq55m75b2VCiAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCJ1cGRhdGFMb2dpblN0YXRlIiwgZmFsc2UpOwogICAgICAgIC8vIOWmguaenGxvY2Fsc3RvcmFnZeWtmOaciXVzZXJJZOWwsea4hemZpAogICAgICAgIGlmICh3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oInVzZXJJZCIpKSB7CiAgICAgICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oInVzZXJJZCIpOwogICAgICAgIH0KICAgICAgfQogICAgfSwKCiAgICAvLyDkuovku7YKICAgIC8vIOWcqOaQnOe0ouahhuS4rei+k+WFpeeahOWbnuiwgwogICAgaW5wdXRTZWFyY2goZSkgewogICAgICAvLyBjb25zb2xlLmxvZyhlKTsKICAgICAgY2xlYXJUaW1lb3V0KHRpbWVyKTsKICAgICAgaWYgKGUgIT0gIiIpIHsKICAgICAgICB0aW1lciA9IHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgdGhpcy5nZXRTZWFyY2hTdWdnZXN0KGUpOwogICAgICAgIH0sIDUwMCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgLy8g5riF56m6c2VhcmNoU3VnZ2VzdExpc3QKICAgICAgICB0aGlzLnNlYXJjaFN1Z2dlc3RMaXN0ID0ge307CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICB9LCAgICAvLyDlnKjovpPlhaXmoYbmjInkuIvlm57ovabnmoTlm57osIMKICAgIG9uU3VibWl0KGUpIHsKICAgICAgaWYgKGUua2V5Q29kZSA9PSAxMyAmJiB0aGlzLnNlYXJjaElucHV0ICE9ICIiKSB7CiAgICAgICAgdGhpcy5nb1NlYXJjaCgpOwogICAgICB9CiAgICB9LAogICAgLy8g6Lez6L2s6Iez5pCc57Si6K+m5oOF6aG16Z2iCiAgICBnb1NlYXJjaCgpIHsKICAgICAgdGhpcy5pc1NlYXJjaFBvcFNob3cgPSBmYWxzZTsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goeyBuYW1lOiAic2VhcmNoIiwgcGFyYW1zOiB7IGlkOiB0aGlzLnNlYXJjaElucHV0IH0gfSk7CiAgICB9LAogICAgLy8g54K55Ye754Ot5pCc5qacaXRlbeeahOWbnuiwgwogICAgY2xpY2tIb3RTZWFyY2hJdGVtKHNlYXJjaFdvcmQpIHsKICAgICAgdGhpcy5zZWFyY2hJbnB1dCA9IHNlYXJjaFdvcmQ7CiAgICAgIHRoaXMuZ29TZWFyY2goKTsKICAgIH0sCiAgICAvLyDngrnlh7vmkJzntKLlu7rorq7kuK3kuJPovpHnmoTlm57osIMKICAgIGNsaWNrU3VnZ2VzdEFsYnVtKGlkKSB7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsgbmFtZTogImFsYnVtIiwgcGFyYW1zOiB7IGlkIH0gfSk7CiAgICAgIHRoaXMuaXNTZWFyY2hQb3BTaG93ID0gZmFsc2U7CiAgICB9LAogICAgLy8g54K55Ye75pCc57Si5bu66K6u5Lit5q2M5omL55qE5Zue6LCDCiAgICBjbGlja1N1Z2dlc3RTaW5nZXIoaWQpIHsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goeyBuYW1lOiAic2luZ2VyRGV0YWlsIiwgcGFyYW1zOiB7IGlkIH0gfSk7CiAgICAgIHRoaXMuaXNTZWFyY2hQb3BTaG93ID0gZmFsc2U7CiAgICB9LAogICAgLy8g54K55Ye75pCc57Si5bu66K6u5Lit5q2M5Y2V55qE5Zue6LCDCiAgICBjbGlja1N1Z2dlc3RNdXNpY0xpc3QoaWQpIHsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goeyBuYW1lOiAibXVzaWNMaXN0RGV0YWlsIiwgcGFyYW1zOiB7IGlkIH0gfSk7CiAgICAgIHRoaXMuaXNTZWFyY2hQb3BTaG93ID0gZmFsc2U7CiAgICB9LAogICAgLy8g54K55Ye75pCc57Si5bu66K6u5Lit5Y2V5puy55qE5Zue6LCDCiAgICBhc3luYyBjbGlja1N1Z2dlc3RTb25nKGlkKSB7CiAgICAgIGxldCByb3cgPSBhd2FpdCB0aGlzLmdldE11c2ljSW5mbyhpZCk7CiAgICAgIHRoaXMuaXNTZWFyY2hQb3BTaG93ID0gZmFsc2U7CiAgICAgIC8vIOmmluWFiOiOt+WPluW9k+WJjeeahOatjOWNleWIl+ihqOWSjOatjOabsue0ouW8lQogICAgICBsZXQgbXVzaWNMaXN0ID0gdGhpcy4kc3RvcmUuc3RhdGUubXVzaWNMaXN0OwogICAgICBsZXQgY3VycmVudEluZGV4ID0gdGhpcy4kc3RvcmUuc3RhdGUuY3VycmVudEluZGV4OwogICAgICAvLyDlhYjliKTmlq3or6XmrYzmm7LmmK/lkKblt7Lnu4/lnKjmrYzljZXkuK3lrZjlnKjvvIzpgb/lhY3ph43lpI3ngrnlh7vlr7zoh7TmrYzljZXlh7rnjrDnm7jlkIzmrYzmm7IKICAgICAgbGV0IGlzRXhpc3QgPSBtdXNpY0xpc3QuZmluZCgoaXRlbSkgPT4gaXRlbS5pZCA9PSByb3cuaWQpOwogICAgICBpZiAoaXNFeGlzdCkgewogICAgICAgIC8vIOWmguaenOW3sue7j+WtmOWcqCDliJnlj6rmj5DkuqTmrYzmm7JpZOW5tnJldHVybuWHuuWOuwogICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgidXBkYXRlTXVzaWNJZCIsIHJvdy5pZCk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgiY2hhbmdlUGxheVN0YXRlIiwgZmFsc2UpOwogICAgICAvLyDlsIbor7fmsYLliLDnmoTmrYzmm7Lor6bmg4Xmj5LlhaXliLDmrYzljZXlr7nlupTkvY3nva7lubbmj5DkuqToh7N2dWV4CiAgICAgIG11c2ljTGlzdC5zcGxpY2UoY3VycmVudEluZGV4ICsgMSwgMCwgcm93KTsKICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCJ1cGRhdGVNdXNpY0lkIiwgcm93LmlkKTsKICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCJ1cGRhdGVNdXNpY0xpc3QiLCB7CiAgICAgICAgbXVzaWNMaXN0LAogICAgICAgIG11c2ljTGlzdElkOiB0aGlzLiRzdG9yZS5zdGF0ZS5tdXNpY0xpc3RJZCwKICAgICAgfSk7CiAgICB9LAoKICAgIC8vIOWFs+mXreazqOWGjOahhgogICAgY2xvc2VSZWdpc3RlcmVkKCkgewogICAgICB0aGlzLmlzUmVnaXN0ZXJlZFNob3cgPSBmYWxzZTsKICAgIH0sCgogICAgLy8g6Lez6L2s6Iez5Liq5Lq66aG16Z2iCiAgICBnb1RvUGVyc29uYWwoKSB7CiAgICAgIGlmICh0aGlzLiRyb3V0ZS5wYXRoICE9IGAvcGVyc29uYWwvJHt0aGlzLnVzZXJJbmZvLnVzZXJJZH1gKQogICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICAgIG5hbWU6ICJwZXJzb25hbCIsCiAgICAgICAgICBwYXJhbXM6IHsgdWlkOiB0aGlzLnVzZXJJbmZvLnVzZXJJZCB9LAogICAgICAgIH0pOwogICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLiRyb3V0ZSk7CiAgICB9LAogIH0sCiAgYXN5bmMgY3JlYXRlZCgpIHsKICAgIHRoaXMuZ2V0SG90U2VhcmNoKCk7CiAgICB0aGlzLmdldEN1cnJlbnRVc2VySW5mbygpOwoKICAgIGlmIChkb2N1bWVudC5jb29raWUuc2VhcmNoKCJNVVNJQ19VPSIpICE9IC0xKSB7CiAgICAgIC8vIOWmguaenOacrOWcsOWtmOaciWNvb2tpZe+8jOWImeWFiOaaguaXtuWIpOWumuS4uuW3sueZu+W9le+8jAogICAgICAvLyDku6Xop6PlhrPnmbvlvZXnirbmgIHkuIvlnKjop4bpopHpobXnrYnpnIDopoHnmbvlvZXnmoTpobXpnaLliLfmlrDlm6DkuLrnmbvlvZXnirbmgIHpu5jorqTkuLpmYWxzZe+8jAogICAgICAvLyDpnIDopoHnrYnlvoXojrflj5bnlKjmiLfkv6Hmga/or7fmsYLnu5PmnZ/lkI7mm7TmlrDnlKjmiLfnirbmgIHmiY3mnInov5vlhaXop4bpopHpobXnmoTmnYPpmZDvvIzlr7zoh7Tooqvov5Tlm57liLDlj5HnjrDpn7PkuZDpobXpnaLvvIzkvZPpqozlvojlt64KICAgICAgLy8g5ZCO6Z2i6I635Y+W55So5oi35L+h5oGv5bCG5YaN5qyh56Gu6K6k55So5oi35piv5ZCm55m75b2VCiAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgidXBkYXRhTG9naW5TdGF0ZSIsIHRydWUpOwogICAgfQogIH0sCgogIHdhdGNoOiB7CiAgICAiJHN0b3JlLnN0YXRlLmlzTG9naW4iKGN1cnJlbnQpIHsKICAgICAgLy8g5aaC5p6c6YCA5Ye655m75b2V5ZCO5pWw5o2u6L+Y5rKh5riF56m677yM5YiZ5riF56m65pWw5o2uCiAgICAgIGlmICghY3VycmVudCAmJiB0aGlzLnVzZXJJbmZvLm5pY2tuYW1lKSB7CiAgICAgICAgdGhpcy51c2VySW5mbyA9IHt9OwogICAgICB9CiAgICB9LAogIH0sCn07Cg=="},{"version":3,"sources":["HeaderBar.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkMA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"HeaderBar.vue","sourceRoot":"src/components/headerBar","sourcesContent":["<template>\n  <div class=\"headerBar\">\n    <div class=\"left\">\n      <img src=\"~assets/img/logo.jpg\" alt=\"\" />\n    </div>\n    <div class=\"center\">\n      <div class=\"buttons\">\n        <i\n          class=\"iconfont icon-arrow-left-bold back\"\n          @click=\"$router.go(-1)\"\n        ></i>\n        <i\n          class=\"iconfont icon-arrow-right-bold forward\"\n          @click=\"$router.go(1)\"\n        ></i>\n      </div>\n      <div class=\"search\">\n        <el-popover\n          placement=\"bottom\"\n          width=\"300\"\n          v-model=\"isSearchPopShow\"\n          popper-class=\"searchPop\"\n          trigger=\"focus\"\n        >\n          <el-input\n            placeholder=\"请输入内容\"\n            prefix-icon=\"el-icon-search\"\n            size=\"mini\"\n            slot=\"reference\"\n            @input=\"inputSearch\"\n            @keyup.enter.native=\"onSubmit\"\n            v-model=\"searchInput\"\n          >\n          </el-input>\n          <!-- 热搜榜 -->\n          <div class=\"hotSearch\" v-if=\"!searchSuggestList.songs\">\n            <div class=\"hotSearchTitle\">热搜榜</div>\n            <div\n              class=\"hotSearchItem\"\n              v-for=\"(item, index) in hotSearchList\"\n              :key=\"index\"\n              @click=\"clickHotSearchItem(item.searchWord)\"\n            >\n              <div class=\"hotSearchIndex\" :class=\"index < 3 ? 'topThree' : ''\">\n                {{ index + 1 }}\n              </div>\n              <div class=\"hotSearchInfo\">\n                <div\n                  class=\"hotSearchWord\"\n                  :class=\"index < 3 ? 'hotSearchWordTopThree' : ''\"\n                >\n                  {{ item.searchWord }}\n                </div>\n                <div class=\"hotSearchContent\">{{ item.content }}</div>\n              </div>\n            </div>\n          </div>\n          <!-- 搜索建议 -->\n          <div class=\"searchSuggest\">\n            <div class=\"hotSearchTitle\" v-if=\"searchSuggestList.songs\">\n              搜索建议\n            </div>\n            <!-- 单曲 -->\n            <div\n              class=\"searchSuggestItem\"\n              v-if=\"\n                searchSuggestList.songs && searchSuggestList.songs.length != 0\n              \"\n            >\n              <div class=\"searchSuggestItemTitle\">\n                <i class=\"iconfont icon-yinle\"></i> 单曲\n              </div>\n              <div\n                class=\"suggestItemDetail\"\n                v-for=\"(item, index) in searchSuggestList.songs\"\n                :key=\"index\"\n                @click=\"clickSuggestSong(item.id)\"\n              >\n                {{ item.name + \" - \" + item.artists[0].name }}\n              </div>\n            </div>\n            <!-- 歌手 -->\n            <div\n              class=\"searchSuggestItem\"\n              v-if=\"\n                searchSuggestList.artists &&\n                searchSuggestList.artists.length != 0\n              \"\n            >\n              <div class=\"searchSuggestItemTitle\">\n                <i class=\"iconfont icon-mic\"></i> 歌手\n              </div>\n              <div\n                class=\"suggestItemDetail\"\n                v-for=\"(item, index) in searchSuggestList.artists\"\n                :key=\"index\"\n                @click=\"clickSuggestSinger(item.id)\"\n              >\n                {{ item.name }}\n              </div>\n            </div>\n            <!-- 专辑 -->\n            <div\n              class=\"searchSuggestItem\"\n              v-if=\"\n                searchSuggestList.albums && searchSuggestList.albums.length != 0\n              \"\n            >\n              <div class=\"searchSuggestItemTitle\">\n                <i class=\"iconfont icon-more\"></i> 专辑\n              </div>\n              <div\n                class=\"suggestItemDetail\"\n                v-for=\"(item, index) in searchSuggestList.albums\"\n                :key=\"index\"\n                @click=\"clickSuggestAlbum(item.id)\"\n              >\n                {{ item.name + \" - \" + item.artist.name }}\n              </div>\n            </div>\n            <!-- 歌单 -->\n            <div\n              class=\"searchSuggestItem\"\n              v-if=\"\n                searchSuggestList.playlists &&\n                searchSuggestList.playlists.length != 0\n              \"\n            >\n              <div class=\"searchSuggestItemTitle\">\n                <i class=\"iconfont icon-gedan\"></i> 歌单\n              </div>\n              <div\n                class=\"suggestItemDetail\"\n                v-for=\"(item, index) in searchSuggestList.playlists\"\n                :key=\"index\"\n                @click=\"clickSuggestMusicList(item.id)\"\n              >\n                {{ item.name }}\n              </div>\n            </div>\n          </div>\n          <!-- <img src=\"~assets/img/searh.png\" alt=\"\" /> -->\n        </el-popover>\n      </div>\n    </div>\n    <div class=\"right\">\n      <div class=\"user\">\n        <div class=\"avatar\">\n          <!-- 登录框 -->\n          <el-popover\n            placement=\"bottom\"\n            width=\"330\"\n            trigger=\"click\"\n            v-if=\"!userInfo.avatarUrl\"\n          >\n            <login\n              @getUserInfo=\"\n                (info) => {\n                  userInfo = info;\n                  isPopoverShow = false;\n                }\n              \"\n            ></login>\n            <img\n              src=\"~assets/img/logo_1.jpg\"\n              alt=\"\"\n              slot=\"reference\"\n              @click=\"isPopoverShow = !isPopoverShow\"\n            />\n          </el-popover>\n          <img\n            :src=\"userInfo.avatarUrl\"\n            alt=\"\"\n            slot=\"reference\"\n            v-else\n            @click=\"goToPersonal\"\n          />\n        </div>\n        <div class=\"userName\" v-if=\"userInfo.nickname\">\n          {{ userInfo.nickname }}\n        </div>\n        <div class=\"userName\" v-else>点击头像登录</div>\n      </div>\n    </div>\n\n    <!-- 注册框组件 -->\n    <registered\n      :isDialogShow=\"isRegisteredShow\"\n      @closeRegistered=\"closeRegistered\"\n    ></registered>\n  </div>\n</template>\n\n<script>\nimport { handleMusicTime } from \"plugins/utils\";\nimport Registered from \"components/registered/Registered.vue\";\nimport Login from \"components/login/Login.vue\";\n// 节流定时器名称\nlet timer;\n\nexport default {\n  components: { Registered, Login },\n  name: \"HeaderBar\",\n  data() {\n    return {\n      userInfo: {},\n      isPopoverShow: false,\n      // 是否显示searchPop\n      isSearchPopShow: false,\n      // 热搜列表数据\n      hotSearchList: [],\n      // 需要搜索的内容\n      searchInput: \"\",\n      // 搜索建议列表\n      searchSuggestList: {},\n      // 是否显示注册框\n      isRegisteredShow: false,\n    };\n  },\n  methods: {\n    //   请求\n    // 手机前端验证正则表达式\n    // let phoneReg = /^1(3|4|5|6|7|8|9)\\d{9}$/;\n\n    // 获取热搜列表\n    async getHotSearch() {\n      let res = await this.$request(\"/search/hot/detail\");\n      // console.log(res);\n      this.hotSearchList = res.data.data;\n    },\n    // 获取搜索建议\n    async getSearchSuggest(keywords) {\n      let res = await this.$request(\"/search/suggest\", { keywords });\n      console.log(res);\n      this.searchSuggestList = res.data.result;\n    },\n    // 根据id获取歌曲详情\n    async getMusicInfo(ids) {\n      let res = await this.$request(\"/song/detail\", { ids });\n      console.log(res);\n      // 处理时间\n      res.data.songs[0].dt = handleMusicTime(res.data.songs[0].dt);\n      return res.data.songs[0];\n    },\n\n    // 获取当前用户信息\n    async getCurrentUserInfo() {\n      var timestamp = Date.parse(new Date());\n      let res = await this.$request(\"/user/account\", {\n        timestamp,\n      });\n      // console.log(res);\n      if (res.data.profile != null) {\n        this.userInfo = res.data.profile;\n        // 更新登录状态\n        this.$store.commit(\"updataLoginState\", true);\n        // 更新当前用户id\n        // this.$store.commit(\"updateCurrentUserId\", res.data.profile.userId);\n        // 将请求到的用户id存入localstorage\n        window.localStorage.setItem(\"userId\", res.data.profile.userId);\n      } else {\n        // 未登录\n        this.$store.commit(\"updataLoginState\", false);\n        // 如果localstorage存有userId就清除\n        if (window.localStorage.getItem(\"userId\")) {\n          window.localStorage.removeItem(\"userId\");\n        }\n      }\n    },\n\n    // 事件\n    // 在搜索框中输入的回调\n    inputSearch(e) {\n      // console.log(e);\n      clearTimeout(timer);\n      if (e != \"\") {\n        timer = setTimeout(() => {\n          this.getSearchSuggest(e);\n        }, 500);\n      } else {\n        // 清空searchSuggestList\n        this.searchSuggestList = {};\n        return;\n      }\n    },    // 在输入框按下回车的回调\n    onSubmit(e) {\n      if (e.keyCode == 13 && this.searchInput != \"\") {\n        this.goSearch();\n      }\n    },\n    // 跳转至搜索详情页面\n    goSearch() {\n      this.isSearchPopShow = false;\n      this.$router.push({ name: \"search\", params: { id: this.searchInput } });\n    },\n    // 点击热搜榜item的回调\n    clickHotSearchItem(searchWord) {\n      this.searchInput = searchWord;\n      this.goSearch();\n    },\n    // 点击搜索建议中专辑的回调\n    clickSuggestAlbum(id) {\n      this.$router.push({ name: \"album\", params: { id } });\n      this.isSearchPopShow = false;\n    },\n    // 点击搜索建议中歌手的回调\n    clickSuggestSinger(id) {\n      this.$router.push({ name: \"singerDetail\", params: { id } });\n      this.isSearchPopShow = false;\n    },\n    // 点击搜索建议中歌单的回调\n    clickSuggestMusicList(id) {\n      this.$router.push({ name: \"musicListDetail\", params: { id } });\n      this.isSearchPopShow = false;\n    },\n    // 点击搜索建议中单曲的回调\n    async clickSuggestSong(id) {\n      let row = await this.getMusicInfo(id);\n      this.isSearchPopShow = false;\n      // 首先获取当前的歌单列表和歌曲索引\n      let musicList = this.$store.state.musicList;\n      let currentIndex = this.$store.state.currentIndex;\n      // 先判断该歌曲是否已经在歌单中存在，避免重复点击导致歌单出现相同歌曲\n      let isExist = musicList.find((item) => item.id == row.id);\n      if (isExist) {\n        // 如果已经存在 则只提交歌曲id并return出去\n        this.$store.commit(\"updateMusicId\", row.id);\n        return;\n      }\n      this.$store.commit(\"changePlayState\", false);\n      // 将请求到的歌曲详情插入到歌单对应位置并提交至vuex\n      musicList.splice(currentIndex + 1, 0, row);\n      this.$store.commit(\"updateMusicId\", row.id);\n      this.$store.commit(\"updateMusicList\", {\n        musicList,\n        musicListId: this.$store.state.musicListId,\n      });\n    },\n\n    // 关闭注册框\n    closeRegistered() {\n      this.isRegisteredShow = false;\n    },\n\n    // 跳转至个人页面\n    goToPersonal() {\n      if (this.$route.path != `/personal/${this.userInfo.userId}`)\n        this.$router.push({\n          name: \"personal\",\n          params: { uid: this.userInfo.userId },\n        });\n      // console.log(this.$route);\n    },\n  },\n  async created() {\n    this.getHotSearch();\n    this.getCurrentUserInfo();\n\n    if (document.cookie.search(\"MUSIC_U=\") != -1) {\n      // 如果本地存有cookie，则先暂时判定为已登录，\n      // 以解决登录状态下在视频页等需要登录的页面刷新因为登录状态默认为false，\n      // 需要等待获取用户信息请求结束后更新用户状态才有进入视频页的权限，导致被返回到发现音乐页面，体验很差\n      // 后面获取用户信息将再次确认用户是否登录\n      this.$store.commit(\"updataLoginState\", true);\n    }\n  },\n\n  watch: {\n    \"$store.state.isLogin\"(current) {\n      // 如果退出登录后数据还没清空，则清空数据\n      if (!current && this.userInfo.nickname) {\n        this.userInfo = {};\n      }\n    },\n  },\n};\n</script>\n\n<style scoped>\n@import \"./HeaderBar-element.css\";\n.headerBar {\n  display: flex;\n  align-items: center;\n  width: 100%;\n  height: 50px;\n  position: relative;\n  z-index: 30000;\n}\n\n.left {\n  width: 110px;\n  margin: 0 50px 0 10px;\n}\n\n.left img {\n  width: 100%;\n}\n\n.center {\n  display: flex;\n  align-items: center;\n}\n\n.buttons {\n  color: rgb(235, 235, 235);\n  /* display: flex; */\n  height: 22px;\n}\n\n.buttons i {\n  background-color: #D30000;\n  font-size: 12px;\n  transform: scale(0.8);\n  padding: 5px;\n  height: 22px;\n  width: 22px;\n  border-radius: 50%;\n  margin: 0 3px;\n}\n\n.right {\n  display: flex;\n  position: absolute;\n  right: 50px;\n  top: 0;\n  line-height: 50px;\n}\n\n.user {\n  display: flex;\n  align-items: center;\n}\n\n.avatar {\n  width: 30px;\n  height: 30px;\n  border-radius: 50%;\n  overflow: hidden;\n  margin-right: 7px;\n  cursor: pointer;\n}\n\n.avatar img {\n  width: 100%;\n}\n\n.userName {\n  font-size: 12px;\n  color: rgba(255, 255, 255, 0.85);\n  width: 100px;\n}\n\n.loginButton {\n  width: 100%;\n  text-align: center;\n}\n\n.loginButton .el-button {\n  width: 200px;\n}\n\n.el-form /deep/ .el-form-item__label {\n  font-size: 13px !important;\n}\n\n.hotSearchTitle {\n  font-size: 13px;\n  margin: 10px 0 5px 20px;\n}\n\n.hotSearchItem {\n  display: flex;\n  align-items: center;\n  padding: 6.5px 15px;\n  cursor: pointer;\n}\n\n.hotSearchItem:hover {\n  background-color: #f2f2f2;\n}\n\n.hotSearchIndex {\n  margin-right: 15px;\n  color: #aaa;\n}\n\n.topThree {\n  color: #d81d1d;\n}\n\n.hotSearchWord {\n  font-size: 12px;\n  color: rgb(51, 51, 51);\n}\n\n.hotSearchWordTopThree {\n  font-weight: 600;\n  color: black;\n}\n\n.hotSearchContent {\n  font-size: 12px;\n  transform: scale(0.9) translateX(-5%);\n}\n\n.searchSuggest {\n  font-size: 12px;\n}\n\n.searchSuggestItemTitle {\n  background-color: #f5f5f7;\n  padding: 4px 8px;\n}\n\n.searchSuggestItemTitle i {\n  font-size: 15px;\n}\n\n.searchSuggestItem {\n  cursor: pointer;\n}\n\n.suggestItemDetail {\n  padding: 4px 27px;\n  font-size: 12px;\n}\n\n.suggestItemDetail:hover {\n  background-color: #f2f2f2;\n}\n</style>"]}]}