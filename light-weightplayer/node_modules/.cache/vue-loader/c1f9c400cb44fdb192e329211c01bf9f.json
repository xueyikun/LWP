{"remainingRequest":"C:\\Users\\w9747\\Downloads\\vue_cloud_music-master\\vue_cloud_music-master\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\w9747\\Downloads\\vue_cloud_music-master\\vue_cloud_music-master\\src\\components\\comment\\Comment.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\w9747\\Downloads\\vue_cloud_music-master\\vue_cloud_music-master\\src\\components\\comment\\Comment.vue","mtime":1632135031000},{"path":"C:\\Users\\w9747\\Downloads\\vue_cloud_music-master\\vue_cloud_music-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1636408355875},{"path":"C:\\Users\\w9747\\Downloads\\vue_cloud_music-master\\vue_cloud_music-master\\node_modules\\babel-loader\\lib\\index.js","mtime":1636408357214},{"path":"C:\\Users\\w9747\\Downloads\\vue_cloud_music-master\\vue_cloud_music-master\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1636408355875},{"path":"C:\\Users\\w9747\\Downloads\\vue_cloud_music-master\\vue_cloud_music-master\\node_modules\\vue-loader\\lib\\index.js","mtime":1636408357599}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IGZvcm1hdERhdGUgfSBmcm9tICJwbHVnaW5zL3V0aWxzIjsKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiQ29tbWVudCIsCiAgcHJvcHM6IHsKICAgIC8vIOivhOiuuuaVsOaNrgogICAgY29tbWVudHM6IHsKICAgICAgdHlwZTogQXJyYXksCiAgICAgIGRlZmF1bHQoKSB7CiAgICAgICAgcmV0dXJuIFtdOwogICAgICB9LAogICAgfSwKICAgIC8vIOivhOiuuueahOexu+WeiwogICAgY29tbWVudFR5cGU6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0KCkgewogICAgICAgIHJldHVybiAiIjsKICAgICAgfSwKICAgIH0sCiAgICAvLyDor4Torrrlr7nosaHnmoRpZAogICAgY29tbWVudElkOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdCgpIHsKICAgICAgICByZXR1cm4gIiI7CiAgICAgIH0sCiAgICB9LAogICAgLy8g5q2M5puy6K+E6K666ZyA6KaB5q2M5puy5ZCN56ewCiAgICBtdXNpY1RpdGxlOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdCgpIHsKICAgICAgICByZXR1cm4gIiI7CiAgICAgIH0sCiAgICB9LAogICAgLy8g5piv5ZCm5piv54Ot6Zeo6K+E6K66CiAgICBpc0hvdENvbW1lbnQ6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdCgpIHsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgfSwKICAgIH0sCiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgY29tbWVudElucHV0OiAiIiwKICAgICAgLy8g5piv5ZCm5pi+56S66K+E6K66ZGlhbG9nCiAgICAgIGlzQ29tbWVudERpYWxvZ1Nob3c6IGZhbHNlLAogICAgICAvLyDor4TorrrmqKHlvI8gICB0cnVl5piv5bi46KeE6K+E6K66ICAgZmFsc2XmmK/mpbzlsYLor4TorroKICAgICAgY29tbWVudE1vZGU6IHRydWUsCiAgICAgIC8vIOalvOWxguWbnuWkjeWJjemdouWHoOS4quWtl+eahOmVv+W6pgogICAgICBmbG9vckNvbW1lbnRJbnB1dExlbmd0aDogMCwKICAgICAgLy8g55So5LqO5pqC5a2Y5qW85bGC6K+E6K66aWQKICAgICAgZmxvb3JDb21tZW50SWQ6ICIiLAogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIC8vIOeCueWHu+aPkOS6pOivhOiuuueahOWbnuiwgwogICAgYXN5bmMgc3VibWl0Q29tbWVudCgpIHsKICAgICAgLy8g5Yik5pat5piv5ZCm55m75b2VCiAgICAgIGlmICghdGhpcy4kc3RvcmUuc3RhdGUuaXNMb2dpbikgewogICAgICAgIHRoaXMuJG1lc3NhZ2Uud2FybmluZygi5Y+q5pyJ55m76ZmG5ZCO5omN6IO96K+E6K665ZOmISIpOwogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgLy8g5YWI5Yik5pat6K+E6K665YaF5a655piv5ZCm5Li656m6CiAgICAgIGlmICh0aGlzLmNvbW1lbnRJbnB1dCA9PSAiIikgewogICAgICAgIHRoaXMuJG1lc3NhZ2Uud2FybmluZygi6K+E6K665YaF5a655LiN6IO95Li656m65ZOmISIpOwogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgLy8g5Yik5pat6K+E6K6655qE57G75Z6LCiAgICAgIGxldCB0eXBlOwogICAgICBzd2l0Y2ggKHRoaXMuY29tbWVudFR5cGUpIHsKICAgICAgICBjYXNlICJhbGJ1bSI6CiAgICAgICAgICB0eXBlID0gMzsKICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgIm11c2ljTGlzdCI6CiAgICAgICAgICB0eXBlID0gMjsKICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgIm11c2ljIjoKICAgICAgICAgIHR5cGUgPSAwOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSAibXYiOgogICAgICAgICAgdHlwZSA9IDE7CiAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlICJ2aWRlbyI6CiAgICAgICAgICB0eXBlID0gNTsKICAgICAgICAgIGJyZWFrOwogICAgICB9CiAgICAgIGxldCByZXMgPSBhd2FpdCB0aGlzLiRyZXF1ZXN0KCIvY29tbWVudCIsIHsKICAgICAgICB0OiAxLAogICAgICAgIGlkOiB0aGlzLmNvbW1lbnRJZCwKICAgICAgICB0eXBlLAogICAgICAgIGNvbnRlbnQ6IHRoaXMuY29tbWVudElucHV0LAogICAgICB9KS5jYXRjaCgoZXJyKSA9PiB7CiAgICAgICAgLy8gY29uc29sZS5sb2coZXJyLnJlc3BvbnNlLmRhdGEubXNnKTsKICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKGVyci5yZXNwb25zZS5kYXRhLm1zZyk7CiAgICAgIH0pOwoKICAgICAgaWYgKCFyZXMpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIC8vIGNvbnNvbGUubG9nKHJlcyk7CiAgICAgIGlmIChyZXMuZGF0YS5jb2RlID09IDIwMCkgewogICAgICAgIC8vIOa4heepuuaWh+acrOahhgogICAgICAgIC8vIOWmguaenOaYr+WNleabsuWNoeeJh+ivhOiuuu+8jOi/mOmcgOimgeWFs+mXreWNoeeJhwogICAgICAgIGlmICh0aGlzLmNvbW1lbnRUeXBlID09ICJtdXNpYyIpIHsKICAgICAgICAgIHRoaXMuaXNDb21tZW50RGlhbG9nU2hvdyA9IGZhbHNlOwogICAgICAgIH0KICAgICAgICB0aGlzLmNvbW1lbnRJbnB1dCA9ICIiOwogICAgICAgIHRoaXMuJGVtaXQoImdldENvbW1lbnQiKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCLor4TorrrlpLHotKUs6K+356iN5ZCO6YeN6K+VISIpOwogICAgICB9CiAgICB9LAoKICAgIC8vIOWFs+mXreivhOiuumRpYWxvZ+eahOWbnuiwgwogICAgY2xvc2VDb21tZW50RGlhbG9nKCkgewogICAgICB0aGlzLmlzQ29tbWVudERpYWxvZ1Nob3cgPSBmYWxzZTsKICAgICAgdGhpcy5jb21tZW50SW5wdXQgPSAiIjsKICAgICAgdGhpcy5mbG9vckNvbW1lbnRJZCA9ICIiOwogICAgICB0aGlzLmNvbW1lbnRNb2RlID0gdHJ1ZTsKICAgICAgdGhpcy5mbG9vckNvbW1lbnRJbnB1dExlbmd0aCA9IDA7CiAgICB9LAogICAgLy8g54K55Ye75Zac5qyi6K+l6K+E6K6655qE5Zue6LCDCiAgICBhc3luYyBsaWtlQ3VycmVudENvbW1lbnQoZmxhZywgY2lkKSB7CiAgICAgIGNvbnNvbGUubG9nKGZsYWcsIGNpZCk7CiAgICAgIC8vIOWIpOaWreaYr+WQpueZu+W9lQogICAgICBpZiAoIXRoaXMuJHN0b3JlLnN0YXRlLmlzTG9naW4pIHsKICAgICAgICB0aGlzLiRtZXNzYWdlLndhcm5pbmcoIuWPquacieeZu+mZhuWQjuaJjeiDveeCuei1nuWTpiEiKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIC8vIOiOt+WPluaXtumXtOaIswogICAgICB2YXIgdGltZXN0YW1wID0gRGF0ZS5wYXJzZShuZXcgRGF0ZSgpKTsKCiAgICAgIC8vIOWIpOaWreivhOiuuueahOexu+WeiwogICAgICBsZXQgdHlwZTsKICAgICAgc3dpdGNoICh0aGlzLmNvbW1lbnRUeXBlKSB7CiAgICAgICAgY2FzZSAiYWxidW0iOgogICAgICAgICAgdHlwZSA9IDM7CiAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlICJtdXNpY0xpc3QiOgogICAgICAgICAgdHlwZSA9IDI7CiAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlICJtdXNpYyI6CiAgICAgICAgICB0eXBlID0gMDsKICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgIm12IjoKICAgICAgICAgIHR5cGUgPSAxOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSAidmlkZW8iOgogICAgICAgICAgdHlwZSA9IDU7CiAgICAgICAgICBicmVhazsKICAgICAgfQoKICAgICAgbGV0IHJlcyA9IGF3YWl0IHRoaXMuJHJlcXVlc3QoIi9jb21tZW50L2xpa2UiLCB7CiAgICAgICAgaWQ6IHRoaXMuY29tbWVudElkLAogICAgICAgIGNpZCwKICAgICAgICB0OiBmbGFnID8gMCA6IDEsCiAgICAgICAgdHlwZSwKICAgICAgICB0aW1lc3RhbXAsCiAgICAgIH0pOwogICAgICBjb25zb2xlLmxvZyhyZXMpOwogICAgICBpZiAocmVzLmRhdGEuY29kZSA9PSAyMDApIHsKICAgICAgICB0aGlzLiRlbWl0KCJnZXRDb21tZW50Iik7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcigi54K56LWe5aSx6LSlLOivt+eojeWQjumHjeivlSEiKTsKICAgICAgfQogICAgfSwKCiAgICAvLyDngrnlh7vmpbzlsYLor4TorrrnmoTlm57osIMKICAgIC8vIGNvbW1lbnRJZOaYr+ivhOiuumlkICBuaWNrTmFtZeaYr+ivhOiuuuS9nOiAhQogICAgZmxvb3JDb21tZW50KGNvbW1lbnRJZCwgbmlja05hbWUpIHsKICAgICAgY29uc29sZS5sb2coY29tbWVudElkLCBuaWNrTmFtZSk7CiAgICAgIC8vIGlzSG90Q29tbWVudOS4umZhbHNlIOivtOaYjuayoeacieaWh+acrOahhgogICAgICBpZiAodGhpcy5pc0hvdENvbW1lbnQgPT0gZmFsc2UpIHsKICAgICAgICAvLyDlsIblhbbovaznu5lob3RDb21tZW505aSE55CGCiAgICAgICAgdGhpcy4kZW1pdCgidHJhbnNUb0hvdENvbW1lbnQiLCB7IGNvbW1lbnRJZCwgbmlja05hbWUgfSk7CiAgICAgIH0KICAgICAgaWYgKHRoaXMuY29tbWVudFR5cGUgIT0gIm11c2ljIikgewogICAgICAgIC8vIOiuqeeItuWFg+e0oOa7muWKqOWIsOivhOiuuuahhgogICAgICAgIHRoaXMuJGVtaXQoInNjcm9sbFRvQ29tbWVudCIpOwogICAgICAgIC8vIOiuqeivhOiuuuahhuiOt+W+l+eEpueCuQogICAgICAgIGxldCBpbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIi5jb21tZW50QXJlYSIpOwogICAgICAgIC8vIOmYu+atomZvY3Vz5a6a5L2NCiAgICAgICAgaW5wdXQuY2hpbGRyZW5bMF0uZm9jdXMoeyBwcmV2ZW50U2Nyb2xsOiB0cnVlIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMub3BlbkRpYWxvZygpOwogICAgICB9CiAgICAgIHRoaXMuY29tbWVudElucHV0ID0gIuWbnuWkjSIgKyBuaWNrTmFtZSArICLvvJoiOwogICAgICB0aGlzLmZsb29yQ29tbWVudElucHV0TGVuZ3RoID0gdGhpcy5jb21tZW50SW5wdXQubGVuZ3RoOwogICAgICAvLyDlsIbor4TorrrmqKHlvI/mlLnkuLrmpbzlsYLor4TorroKICAgICAgdGhpcy5jb21tZW50TW9kZSA9IGZhbHNlOwogICAgICB0aGlzLmZsb29yQ29tbWVudElkID0gY29tbWVudElkOwogICAgfSwKCiAgICAvLyDngrnlh7vmj5DkuqTmpbzlsYLor4TorrrnmoTlm57osIMKICAgIGFzeW5jIHN1Ym1pdEZsb29yQ29tbWVudCgpIHsKICAgICAgY29uc29sZS5sb2coIuaPkOS6pOalvOWxguivhOiuuiIpOwoKICAgICAgLy8g5Yik5pat5piv5ZCm55m75b2VCiAgICAgIGlmICghdGhpcy4kc3RvcmUuc3RhdGUuaXNMb2dpbikgewogICAgICAgIHRoaXMuJG1lc3NhZ2Uud2FybmluZygi5Y+q5pyJ55m76ZmG5ZCO5omN6IO96K+E6K665ZOmISIpOwogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgaWYgKHRoaXMuY29tbWVudElucHV0Lmxlbmd0aCA9PSB0aGlzLmZsb29yQ29tbWVudElucHV0TGVuZ3RoKSB7CiAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcigi6K+E6K665YaF5a655LiN6IO95Li656m65ZOmISIpOwogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgLy8g5Yik5pat6K+E6K6655qE57G75Z6LCiAgICAgIGxldCB0eXBlOwogICAgICBzd2l0Y2ggKHRoaXMuY29tbWVudFR5cGUpIHsKICAgICAgICBjYXNlICJhbGJ1bSI6CiAgICAgICAgICB0eXBlID0gMzsKICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgIm11c2ljTGlzdCI6CiAgICAgICAgICB0eXBlID0gMjsKICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgIm11c2ljIjoKICAgICAgICAgIHR5cGUgPSAwOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSAibXYiOgogICAgICAgICAgdHlwZSA9IDE7CiAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlICJ2aWRlbyI6CiAgICAgICAgICB0eXBlID0gNTsKICAgICAgICAgIGJyZWFrOwogICAgICB9CiAgICAgIGxldCByZXMgPSBhd2FpdCB0aGlzLiRyZXF1ZXN0KCIvY29tbWVudCIsIHsKICAgICAgICB0OiAyLAogICAgICAgIGlkOiB0aGlzLmNvbW1lbnRJZCwKICAgICAgICB0eXBlLAogICAgICAgIGNvbnRlbnQ6IHRoaXMuY29tbWVudElucHV0LAogICAgICAgIGNvbW1lbnRJZDogdGhpcy5mbG9vckNvbW1lbnRJZCwKICAgICAgfSkuY2F0Y2goKGVycikgPT4gewogICAgICAgIC8vIGNvbnNvbGUubG9nKGVyci5yZXNwb25zZS5kYXRhLm1zZyk7CiAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcihlcnIucmVzcG9uc2UuZGF0YS5tc2cpOwogICAgICB9KTsKCiAgICAgIGlmICghcmVzKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIC8vIGNvbnNvbGUubG9nKHJlcyk7CiAgICAgIGlmIChyZXMuZGF0YS5jb2RlID09IDIwMCkgewogICAgICAgIC8vIOa4heepuuaWh+acrOahhgogICAgICAgIC8vIOWmguaenOaYr+WNleabsuWNoeeJh+ivhOiuuu+8jOi/mOmcgOimgeWFs+mXreWNoeeJhwogICAgICAgIGlmICh0aGlzLmNvbW1lbnRUeXBlID09ICJtdXNpYyIpIHsKICAgICAgICAgIHRoaXMuaXNDb21tZW50RGlhbG9nU2hvdyA9IGZhbHNlOwogICAgICAgIH0KICAgICAgICB0aGlzLmNvbW1lbnRJbnB1dCA9ICIiOwogICAgICAgIHRoaXMuY29tbWVudE1vZGUgPSB0cnVlOwogICAgICAgIHRoaXMuZmxvb3JDb21tZW50SW5wdXRMZW5ndGggPSAwOwogICAgICAgIHRoaXMuZmxvb3JDb21tZW50SWQgPSAiIjsKICAgICAgICB0aGlzLmlzQ29tbWVudERpYWxvZ1Nob3cgPSBmYWxzZTsKICAgICAgICB0aGlzLiRlbWl0KCJnZXRDb21tZW50Iik7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcigi6K+E6K665aSx6LSlLOivt+eojeWQjumHjeivlSEiKTsKICAgICAgfQogICAgfSwKCiAgICAvLyDnm5HlkKzplK7nm5jkuovku7YKICAgIGlucHV0Q29tbWVudCgpIHsKICAgICAgLy8g5aaC5p6c5piv5qW85bGC5Zue5aSNCiAgICAgIGlmICh0aGlzLmNvbW1lbnRNb2RlID09IGZhbHNlKSB7CiAgICAgICAgaWYgKHRoaXMuY29tbWVudElucHV0Lmxlbmd0aCA8IHRoaXMuZmxvb3JDb21tZW50SW5wdXRMZW5ndGgpIHsKICAgICAgICAgIC8vIOW9k+mVv+W6puWwj+S6juW9k+WJjealvOWxguivhOiuuuWJjemdoum7mOiupOeahOWtl+aXtgogICAgICAgICAgdGhpcy5jb21tZW50TW9kZSA9IHRydWU7CiAgICAgICAgICBjb25zb2xlLmxvZygi5L+u5pS5bW9kZSIpOwogICAgICAgIH0KICAgICAgfQogICAgfSwKCiAgICAvLyDmiZPlvIBtdXNpY0NvbW1lbnREaWFsb2cKICAgIG9wZW5EaWFsb2coKSB7CiAgICAgIHRoaXMuaXNDb21tZW50RGlhbG9nU2hvdyA9ICF0aGlzLmlzQ29tbWVudERpYWxvZ1Nob3c7CiAgICAgIC8vIGRpYWxvZ+WcqOesrOS4gOasoeWHuueOsOWJjeaYr+S4jea4suafk+eahO+8jOaJgOS7pei/memHjOeUqG5leHRUaWNrCiAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsKICAgICAgICAvLyDorqnor4TorrrmoYbojrflvpfnhKbngrkKICAgICAgICBsZXQgaW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIubXVzaWNDb21tZW50QXJlYSIpOwogICAgICAgIGlucHV0LmNoaWxkcmVuWzBdLmZvY3VzKCk7CiAgICAgICAgLy8gY29uc29sZS5sb2coW2lucHV0XSk7CiAgICAgIH0pOwogICAgfSwKCiAgICAvLyDngrnlh7vnlKjmiLflkI3nmoTlm57osIMKICAgIGdvVG9QZXJzb25hbCh1c2VySWQpIHsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgIG5hbWU6ICJwZXJzb25hbCIsCiAgICAgICAgcGFyYW1zOiB7IHVpZDogdXNlcklkIH0sCiAgICAgIH0pOwogICAgICBpZiAodGhpcy5jb21tZW50VHlwZSA9PSAibXVzaWMiKSB7CiAgICAgICAgLy8gdGhpcy4kZW1pdCgiY2xvc2VNdWlzY0RldGFpbENhcmQiKTsKICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoImNoYW5nZU11c2ljRGV0YWlsQ2FyZFN0YXRlIiwgZmFsc2UpOwogICAgICB9CiAgICB9LAogIH0sCiAgZmlsdGVyczogewogICAgc2hvd0RhdGUodmFsdWUpIHsKICAgICAgLy8gMeOAgeWFiOWwhuaXtumXtOaIs+i9rOaIkERhdGXlr7nosaEKICAgICAgY29uc3QgZGF0ZSA9IG5ldyBEYXRlKHZhbHVlKTsKCiAgICAgIC8vIDLjgIHlsIZkYXRl6L+b6KGM5qC85byP5YyWCiAgICAgIHJldHVybiBmb3JtYXREYXRlKGRhdGUsICJ5eXl5LU1NLWRkIik7CiAgICB9LAogIH0sCiAgd2F0Y2g6IHsKICAgIC8vIOivhOiuuuaVsOaNruWPkeeUn+WPmOWMluaXtiDph43nva7miYDmnInlj5Hooajor4TorrrnmoTmlbDmja4KICAgIGNvbW1lbnRzKGN1cnJlbnQpIHsKICAgICAgdGhpcy5jb21tZW50SW5wdCA9ICIiOwogICAgICB0aGlzLmlzQ29tbWVudERpYWxvZ1Nob3cgPSBmYWxzZTsKICAgICAgdGhpcy5jb21tZW50TW9kZSA9IHRydWU7CiAgICAgIHRoaXMuZmxvb3JDb21tZW50SW5wdXRMZW5ndGggPSAwOwogICAgICB0aGlzLmZsb29yQ29tbWVudElkID0gIiI7CiAgICB9LAogIH0sCiAgY3JlYXRlZCgpIHt9LAp9Owo="},{"version":3,"sources":["Comment.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsHA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Comment.vue","sourceRoot":"src/components/comment","sourcesContent":["<template>\n  <div class=\"hotComments\">\n    <div\n      class=\"comments\"\n      v-if=\"commentType != '' && commentType != 'music' && isHotComment\"\n    >\n      <el-input\n        type=\"textarea\"\n        class=\"commentArea\"\n        maxlength=\"140\"\n        show-word-limit\n        v-model=\"commentInput\"\n        placeholder=\"留下你的评论\"\n        @input=\"inputComment\"\n      ></el-input>\n      <div class=\"submitCommentButton\">\n        <el-button\n          size=\"mini\"\n          round\n          @click=\"commentMode ? submitComment() : submitFloorComment()\"\n          class=\"submitComment\"\n          >评论</el-button\n        >\n      </div>\n    </div>\n    <!-- 音乐单曲评论 -->\n    <div\n      class=\"musicComment\"\n      v-else-if=\"commentType != '' && commentType == 'music'\"\n    >\n      <el-button class=\"commentCardSwitch\" size=\"mini\" round @click=\"openDialog\"\n        ><i class=\"iconfont icon-ziyuan\"></i> 发表我的音乐评论</el-button\n      >\n      <el-dialog\n        :visible=\"isCommentDialogShow\"\n        width=\"400px\"\n        @close=\"closeCommentDialog\"\n        append-to-body\n        class=\"commentDialog\"\n      >\n        <div class=\"musicTitle\">歌曲：{{ musicTitle }}</div>\n        <el-input\n          type=\"textarea\"\n          class=\"commentArea musicCommentArea\"\n          maxlength=\"140\"\n          show-word-limit\n          v-model=\"commentInput\"\n          @input=\"inputComment\"\n          placeholder=\"留下你的评论\"\n        ></el-input>\n        <!-- 提交评论 -->\n        <div class=\"submitCommentButton\">\n          <el-button\n            size=\"mini\"\n            round\n            @click=\"commentMode ? submitComment() : submitFloorComment()\"\n            class=\"submitComment musicSubmitComment\"\n            >评论</el-button\n          >\n        </div>\n      </el-dialog>\n    </div>\n    <div class=\"commentHeader\"><slot name=\"title\"></slot></div>\n    <div class=\"commentItem\" v-for=\"(item, index) in comments\" :key=\"index\">\n      <div class=\"commentCreatorAvatar\">\n        <img\n          :src=\"item.user.avatarUrl + '?param=100y100'\"\n          alt=\"\"\n          @click=\"goToPersonal(item.user.userId)\"\n        />\n      </div>\n      <div class=\"commentMain\">\n        <div class=\"commentContent\">\n          <span\n            class=\"commentUserNickName\"\n            @click=\"goToPersonal(item.user.userId)\"\n            >{{ item.user.nickname }}:&nbsp;</span\n          >\n          <span>{{ item.content }}</span>\n        </div>\n        <div class=\"replied\">\n          <div\n            class=\"repliedItem\"\n            v-for=\"(item1, index1) in item.beReplied\"\n            :key=\"index1\"\n          >\n            <span class=\"repliedUser\" @click=\"goToPersonal(item.user.userId)\"\n              >@{{ item1.user.nickname }}:&nbsp;</span\n            >\n            <span class=\"repliedContent\">{{ item1.content }}</span>\n          </div>\n        </div>\n        <div class=\"commentBottom\">\n          <div class=\"commentCreatedTime\">\n            {{ item.time | showDate }}\n          </div>\n          <div class=\"commentButtons\">\n            <div\n              @click=\"likeCurrentComment(item.liked, item.commentId)\"\n              :class=\"item.liked ? 'likeCurrentComment' : ''\"\n            >\n              <i class=\"iconfont icon-good\"></i> {{ item.likedCount }}\n            </div>\n            <div><i class=\"iconfont icon-zhuanfa\"></i></div>\n            <div>\n              <i\n                class=\"iconfont icon-pinglun\"\n                @click=\"floorComment(item.commentId, item.user.nickname)\"\n              ></i>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { formatDate } from \"plugins/utils\";\n\nexport default {\n  name: \"Comment\",\n  props: {\n    // 评论数据\n    comments: {\n      type: Array,\n      default() {\n        return [];\n      },\n    },\n    // 评论的类型\n    commentType: {\n      type: String,\n      default() {\n        return \"\";\n      },\n    },\n    // 评论对象的id\n    commentId: {\n      type: String,\n      default() {\n        return \"\";\n      },\n    },\n    // 歌曲评论需要歌曲名称\n    musicTitle: {\n      type: String,\n      default() {\n        return \"\";\n      },\n    },\n    // 是否是热门评论\n    isHotComment: {\n      type: Boolean,\n      default() {\n        return true;\n      },\n    },\n  },\n  data() {\n    return {\n      commentInput: \"\",\n      // 是否显示评论dialog\n      isCommentDialogShow: false,\n      // 评论模式   true是常规评论   false是楼层评论\n      commentMode: true,\n      // 楼层回复前面几个字的长度\n      floorCommentInputLength: 0,\n      // 用于暂存楼层评论id\n      floorCommentId: \"\",\n    };\n  },\n  methods: {\n    // 点击提交评论的回调\n    async submitComment() {\n      // 判断是否登录\n      if (!this.$store.state.isLogin) {\n        this.$message.warning(\"只有登陆后才能评论哦!\");\n        return;\n      }\n\n      // 先判断评论内容是否为空\n      if (this.commentInput == \"\") {\n        this.$message.warning(\"评论内容不能为空哦!\");\n        return;\n      }\n\n      // 判断评论的类型\n      let type;\n      switch (this.commentType) {\n        case \"album\":\n          type = 3;\n          break;\n        case \"musicList\":\n          type = 2;\n          break;\n        case \"music\":\n          type = 0;\n          break;\n        case \"mv\":\n          type = 1;\n          break;\n        case \"video\":\n          type = 5;\n          break;\n      }\n      let res = await this.$request(\"/comment\", {\n        t: 1,\n        id: this.commentId,\n        type,\n        content: this.commentInput,\n      }).catch((err) => {\n        // console.log(err.response.data.msg);\n        this.$message.error(err.response.data.msg);\n      });\n\n      if (!res) {\n        return;\n      }\n\n      // console.log(res);\n      if (res.data.code == 200) {\n        // 清空文本框\n        // 如果是单曲卡片评论，还需要关闭卡片\n        if (this.commentType == \"music\") {\n          this.isCommentDialogShow = false;\n        }\n        this.commentInput = \"\";\n        this.$emit(\"getComment\");\n      } else {\n        this.$message.error(\"评论失败,请稍后重试!\");\n      }\n    },\n\n    // 关闭评论dialog的回调\n    closeCommentDialog() {\n      this.isCommentDialogShow = false;\n      this.commentInput = \"\";\n      this.floorCommentId = \"\";\n      this.commentMode = true;\n      this.floorCommentInputLength = 0;\n    },\n    // 点击喜欢该评论的回调\n    async likeCurrentComment(flag, cid) {\n      console.log(flag, cid);\n      // 判断是否登录\n      if (!this.$store.state.isLogin) {\n        this.$message.warning(\"只有登陆后才能点赞哦!\");\n        return;\n      }\n\n      // 获取时间戳\n      var timestamp = Date.parse(new Date());\n\n      // 判断评论的类型\n      let type;\n      switch (this.commentType) {\n        case \"album\":\n          type = 3;\n          break;\n        case \"musicList\":\n          type = 2;\n          break;\n        case \"music\":\n          type = 0;\n          break;\n        case \"mv\":\n          type = 1;\n          break;\n        case \"video\":\n          type = 5;\n          break;\n      }\n\n      let res = await this.$request(\"/comment/like\", {\n        id: this.commentId,\n        cid,\n        t: flag ? 0 : 1,\n        type,\n        timestamp,\n      });\n      console.log(res);\n      if (res.data.code == 200) {\n        this.$emit(\"getComment\");\n      } else {\n        this.$message.error(\"点赞失败,请稍后重试!\");\n      }\n    },\n\n    // 点击楼层评论的回调\n    // commentId是评论id  nickName是评论作者\n    floorComment(commentId, nickName) {\n      console.log(commentId, nickName);\n      // isHotComment为false 说明没有文本框\n      if (this.isHotComment == false) {\n        // 将其转给hotComment处理\n        this.$emit(\"transToHotComment\", { commentId, nickName });\n      }\n      if (this.commentType != \"music\") {\n        // 让父元素滚动到评论框\n        this.$emit(\"scrollToComment\");\n        // 让评论框获得焦点\n        let input = document.querySelector(\".commentArea\");\n        // 阻止focus定位\n        input.children[0].focus({ preventScroll: true });\n      } else {\n        this.openDialog();\n      }\n      this.commentInput = \"回复\" + nickName + \"：\";\n      this.floorCommentInputLength = this.commentInput.length;\n      // 将评论模式改为楼层评论\n      this.commentMode = false;\n      this.floorCommentId = commentId;\n    },\n\n    // 点击提交楼层评论的回调\n    async submitFloorComment() {\n      console.log(\"提交楼层评论\");\n\n      // 判断是否登录\n      if (!this.$store.state.isLogin) {\n        this.$message.warning(\"只有登陆后才能评论哦!\");\n        return;\n      }\n\n      if (this.commentInput.length == this.floorCommentInputLength) {\n        this.$message.error(\"评论内容不能为空哦!\");\n        return;\n      }\n\n      // 判断评论的类型\n      let type;\n      switch (this.commentType) {\n        case \"album\":\n          type = 3;\n          break;\n        case \"musicList\":\n          type = 2;\n          break;\n        case \"music\":\n          type = 0;\n          break;\n        case \"mv\":\n          type = 1;\n          break;\n        case \"video\":\n          type = 5;\n          break;\n      }\n      let res = await this.$request(\"/comment\", {\n        t: 2,\n        id: this.commentId,\n        type,\n        content: this.commentInput,\n        commentId: this.floorCommentId,\n      }).catch((err) => {\n        // console.log(err.response.data.msg);\n        this.$message.error(err.response.data.msg);\n      });\n\n      if (!res) {\n        return;\n      }\n      // console.log(res);\n      if (res.data.code == 200) {\n        // 清空文本框\n        // 如果是单曲卡片评论，还需要关闭卡片\n        if (this.commentType == \"music\") {\n          this.isCommentDialogShow = false;\n        }\n        this.commentInput = \"\";\n        this.commentMode = true;\n        this.floorCommentInputLength = 0;\n        this.floorCommentId = \"\";\n        this.isCommentDialogShow = false;\n        this.$emit(\"getComment\");\n      } else {\n        this.$message.error(\"评论失败,请稍后重试!\");\n      }\n    },\n\n    // 监听键盘事件\n    inputComment() {\n      // 如果是楼层回复\n      if (this.commentMode == false) {\n        if (this.commentInput.length < this.floorCommentInputLength) {\n          // 当长度小于当前楼层评论前面默认的字时\n          this.commentMode = true;\n          console.log(\"修改mode\");\n        }\n      }\n    },\n\n    // 打开musicCommentDialog\n    openDialog() {\n      this.isCommentDialogShow = !this.isCommentDialogShow;\n      // dialog在第一次出现前是不渲染的，所以这里用nextTick\n      this.$nextTick(() => {\n        // 让评论框获得焦点\n        let input = document.querySelector(\".musicCommentArea\");\n        input.children[0].focus();\n        // console.log([input]);\n      });\n    },\n\n    // 点击用户名的回调\n    goToPersonal(userId) {\n      this.$router.push({\n        name: \"personal\",\n        params: { uid: userId },\n      });\n      if (this.commentType == \"music\") {\n        // this.$emit(\"closeMuiscDetailCard\");\n        this.$store.commit(\"changeMusicDetailCardState\", false);\n      }\n    },\n  },\n  filters: {\n    showDate(value) {\n      // 1、先将时间戳转成Date对象\n      const date = new Date(value);\n\n      // 2、将date进行格式化\n      return formatDate(date, \"yyyy-MM-dd\");\n    },\n  },\n  watch: {\n    // 评论数据发生变化时 重置所有发表评论的数据\n    comments(current) {\n      this.commentInpt = \"\";\n      this.isCommentDialogShow = false;\n      this.commentMode = true;\n      this.floorCommentInputLength = 0;\n      this.floorCommentId = \"\";\n    },\n  },\n  created() {},\n};\n</script>\n\n<style scoped>\n.hotComments {\n  margin-bottom: 20px;\n  width: 100%;\n}\n\n.commentHeader {\n  font-size: 14px;\n  color: rgb(26, 26, 26);\n  font-weight: 600;\n  padding: 10px 0;\n}\n.commentItem {\n  display: flex;\n  margin: 5px 0;\n  padding: 10px 0 20px;\n  border-bottom: 1px solid #eee;\n  font-size: 12px;\n}\n\n.commentCreatorAvatar {\n  width: 35px;\n  height: 35px;\n  margin: 0px 10px 0 0;\n}\n\n.commentCreatorAvatar img {\n  width: 100%;\n  border-radius: 50%;\n  cursor: pointer;\n}\n\n.commentMain {\n  width: calc(100% - 50px);\n}\n\n.commentUserNickName {\n  color: #5a8ab9;\n  cursor: pointer;\n}\n\n.commentBottom {\n  margin-top: 2px;\n  color: rgb(172, 172, 172);\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n}\n\n.commentButtons {\n  display: flex;\n  align-items: center;\n}\n.commentButtons div {\n  margin-top: -3px;\n  padding: 0 8px;\n  transform: scale(0.85);\n}\n\n.commentButtons div:nth-child(1) {\n  font-size: 14px;\n}\n\n.replied {\n  background-color: #f4f4f4;\n  margin: 7px 0;\n  border-radius: 5px;\n}\n\n.repliedItem {\n  padding: 7px 10px;\n  line-height: 20px;\n}\n\n.repliedUser {\n  color: #5a8ab9;\n  cursor: pointer;\n}\n\n.page {\n  width: 100%;\n  text-align: center;\n  padding-bottom: 20px;\n}\n\n.commentContent > span {\n  line-height: 20px;\n}\n\n.el-textarea /deep/ .el-textarea__inner {\n  height: 65px !important;\n  font-size: 12px;\n  resize: none;\n}\n\n.el-textarea /deep/ .el-textarea__inner:focus {\n  border-color: #aaa;\n}\n\n.el-textarea /deep/ .el-input__count {\n  transform: scale(0.9);\n}\n\n.submitCommentButton {\n  width: 100%;\n  text-align: right;\n  margin: 10px 0;\n}\n\n.el-button:hover {\n  background-color: #f2f2f2;\n}\n\n.el-button {\n  transform: scale(0.9) translateX(5%);\n}\n\n.submitComment:focus {\n  background-color: #fff;\n}\n\n.commentCardSwitch {\n  position: fixed;\n  left: 50%;\n  top: calc(80vh - 105px);\n  transform: translateX(-50%) scale(0.9);\n  border: none;\n  background-color: #f1f1f1;\n  line-height: 15px;\n  padding: 10px 10px 10px 30px;\n}\n\n.commentCardSwitch:hover {\n  background-color: #e1e1e1;\n}\n\n.commentCardSwitch i {\n  position: absolute;\n  top: 50%;\n  left: 10px;\n  transform: translateY(-50%);\n}\n\n.musicTitle {\n  width: 100%;\n  font-weight: bold;\n  color: #333333;\n  text-align: center;\n  margin-bottom: 10px;\n}\n\n.musicCommentArea /deep/ .el-textarea__inner {\n  height: 110px !important;\n}\n\n.musicSubmitComment {\n  padding: 8px 20px;\n  font-size: 13px;\n  background-color: #ec4141;\n  color: white;\n  border: none;\n}\n\n.musicSubmitComment:hover {\n  background-color: #eb2e2e;\n  color: white;\n}\n\n.musicSubmitComment:focus {\n  color: white;\n  background-color: #ec4141;\n}\n\n.commentDialog /deep/ .el-dialog__body {\n  padding-bottom: 5px !important;\n}\n\n.likeCurrentComment,\n.likeCurrentComment i {\n  color: #ec4141 !important;\n}\n</style>"]}]}