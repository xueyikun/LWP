{"remainingRequest":"D:\\light-weightPlayer\\light-weightplayer\\node_modules\\babel-loader\\lib\\index.js!D:\\light-weightPlayer\\light-weightplayer\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\light-weightPlayer\\light-weightplayer\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\light-weightPlayer\\light-weightplayer\\src\\views\\recommendMusic\\RecommendMusic.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\light-weightPlayer\\light-weightplayer\\src\\views\\recommendMusic\\RecommendMusic.vue","mtime":1636676228523},{"path":"D:\\light-weightPlayer\\light-weightplayer\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1636408355875},{"path":"D:\\light-weightPlayer\\light-weightplayer\\node_modules\\babel-loader\\lib\\index.js","mtime":1636408357214},{"path":"D:\\light-weightPlayer\\light-weightplayer\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1636408355875},{"path":"D:\\light-weightPlayer\\light-weightplayer\\node_modules\\vue-loader\\lib\\index.js","mtime":1636408357599}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkQ6L2xpZ2h0LXdlaWdodFBsYXllci9saWdodC13ZWlnaHRwbGF5ZXIvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maW5kLWluZGV4LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcubWF0Y2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zbGljZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucmVwbGFjZS5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IGhhbmRsZU11c2ljVGltZSB9IGZyb20gInBsdWdpbnMvdXRpbHMiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIlJlY29tbWVuZE11c2ljIiwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgLy8g5q+P5pel5o6o6I2Q5q2M5puy5YiX6KGoCiAgICAgIHJlY29tbWVuZE11c2ljOiBbXSwKICAgICAgLy8gICDmr4/ml6XmjqjojZBpZCDvvIjoh6rlt7HotbfnmoTvvIznlKjkuo7kuIrkvKB2dWV45b2TbXVzaWNMaXN0SWTvvIzlj6rmmK/kvZzkuLrkuIDkuKrllK/kuIDmoIfor4bvvIkKICAgICAgcmVjb21tZW5kTXVzaWNMaXN0SWQ6ICJyZWNvbW1lbmRNdXNpYyIKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICAvLyAgIOivt+axggogICAgLy8g6I635Y+W5q+P5pel5o6o6I2Q5q2M5puyCiAgICBnZXRSZWNvbW1lbmRNdXNpYzogZnVuY3Rpb24gZ2V0UmVjb21tZW5kTXVzaWMoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciByZXM7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuJHJlcXVlc3QoIi9yZWNvbW1lbmQvc29uZ3MiKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgcmVzID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgIF90aGlzLnJlY29tbWVuZE11c2ljID0gcmVzLmRhdGEuZGF0YS5kYWlseVNvbmdzOyAvLyDlpITnkIbml7bpl7QKCiAgICAgICAgICAgICAgICBfdGhpcy5yZWNvbW1lbmRNdXNpYy5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtLCBpbmRleCkgewogICAgICAgICAgICAgICAgICBfdGhpcy5yZWNvbW1lbmRNdXNpY1tpbmRleF0uZHQgPSBoYW5kbGVNdXNpY1RpbWUoaXRlbS5kdCk7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIC8vIOS6i+S7tgogICAgLy8g54K55Ye75pKt5pS+5YWo6YOo5oyJ6ZKu55qE5Zue6LCDCiAgICBwbGF5QWxsOiBmdW5jdGlvbiBwbGF5QWxsKCkgewogICAgICBjb25zb2xlLmxvZyh0aGlzLnJlY29tbWVuZE11c2ljKTsKICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCJ1cGRhdGVNdXNpY0lkIiwgdGhpcy5yZWNvbW1lbmRNdXNpY1swXS5pZCk7CiAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgidXBkYXRlTXVzaWNMaXN0IiwgewogICAgICAgIG11c2ljTGlzdDogdGhpcy5yZWNvbW1lbmRNdXNpYywKICAgICAgICBtdXNpY0xpc3RJZDogdGhpcy5yZWNvbW1lbmRNdXNpY0xpc3RJZAogICAgICB9KTsKICAgIH0sCiAgICAvLyDlpITnkIZ0YWJsZee0ouW8lQogICAgaGFuZGxlSW5kZXg6IGZ1bmN0aW9uIGhhbmRsZUluZGV4KGluZGV4KSB7CiAgICAgIC8vIGNvbnNvbGUubG9nKGluZGV4KTsKICAgICAgaW5kZXggKz0gMTsKCiAgICAgIGlmIChpbmRleCA8IDEwKSB7CiAgICAgICAgcmV0dXJuICIwIiArIGluZGV4OwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiBpbmRleDsKICAgICAgfQogICAgfSwKICAgIC8vIOWPjOWHu3RhYmxl55qEcm9355qE5Zue6LCDCiAgICAvLyDmkq3mlL7pn7PkuZDnmoTpgLvovpHmk43kvZwKICAgIGNsaWNrUm93OiBmdW5jdGlvbiBjbGlja1Jvdyhyb3cpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2cocm93KTsKICAgICAgICAgICAgICAgIC8vIOWwhm11c2ljSWTmj5DkuqTliLB2dWV45LitIOS+m2JvdHRvbUNvbnRyb2zmn6Xor6LmrYzmm7J1cmzlkozlhbblroPmk43kvZwKICAgICAgICAgICAgICAgIF90aGlzMi4kc3RvcmUuY29tbWl0KCJ1cGRhdGVNdXNpY0lkIiwgcm93LmlkKTsgLy8g5aaC5p6c5q2M5Y2V5Y+R55Sf5Y+Y5YyWLOWImeaPkOS6pOatjOWNleWIsHZ1ZXgKCgogICAgICAgICAgICAgICAgaWYgKF90aGlzMi5yZWNvbW1lbmRNdXNpY0xpc3RJZCAhPSBfdGhpczIuJHN0b3JlLnN0YXRlLm11c2ljTGlzdElkKSB7CiAgICAgICAgICAgICAgICAgIC8vIOWwhuatjOWNleS8oOWIsHZ1ZXgKICAgICAgICAgICAgICAgICAgX3RoaXMyLiRzdG9yZS5jb21taXQoInVwZGF0ZU11c2ljTGlzdCIsIHsKICAgICAgICAgICAgICAgICAgICBtdXNpY0xpc3Q6IF90aGlzMi5yZWNvbW1lbmRNdXNpYywKICAgICAgICAgICAgICAgICAgICBtdXNpY0xpc3RJZDogX3RoaXMyLnJlY29tbWVuZE11c2ljTGlzdElkCiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICAvLyDmk43kvZwgRE9NCiAgICBoYW5kbGVET006IGZ1bmN0aW9uIGhhbmRsZURPTShjdXJyZW50LCBsYXN0KSB7CiAgICAgIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIucmVjb21tZW5kTXVzaWMiKSkgewogICAgICAgIHZhciB0YWJsZVJvd3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIucmVjb21tZW5kTXVzaWMiKS5xdWVyeVNlbGVjdG9yQWxsKCIuZWwtdGFibGVfX3JvdyIpOyAvLyDpgY3ljoblvZPliY1tdXNpY0xpc3Qg5om+5Yiw5b2T5YmN5pKt5pS+55qEaW5kZXjnmoTooYzov5vooYzmuLLmn5MKICAgICAgICAvLyBjb25zb2xlLmxvZyh0YWJsZVJvd3MpOwoKICAgICAgICB2YXIgaW5kZXggPSB0aGlzLnJlY29tbWVuZE11c2ljLmZpbmRJbmRleChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgcmV0dXJuIGl0ZW0uaWQgPT0gY3VycmVudDsKICAgICAgICB9KTsgLy8gY29uc29sZS5sb2coaW5kZXgpOwoKICAgICAgICBpZiAoaW5kZXggIT0gLTEpIHsKICAgICAgICAgIC8vIOebtOaOpeS/ruaUuWRvbeagt+W8j+eahOminOiJsuaXoOaViAogICAgICAgICAgLy8g6YCa6L+H5byV5YWl5YWo5bGA5qC35byP6Kej5YazCiAgICAgICAgICAvLyDlsIbmraPlnKjmkq3mlL7nmoTpn7PkuZDliY3pnaLnmoTntKLlvJXmjaLmiJDlsI/lloflj60KICAgICAgICAgIHRhYmxlUm93c1tpbmRleF0uY2hpbGRyZW5bMF0ucXVlcnlTZWxlY3RvcigiLmNlbGwiKS5pbm5lckhUTUwgPSAiPGRpdj48aSBjbGFzcz1cImljb25mb250IGljb24teWlubGlhbmdcIj48L2k+PC9kaXY+IjsKICAgICAgICAgIHRhYmxlUm93c1tpbmRleF0uY2hpbGRyZW5bMF0ucXVlcnlTZWxlY3RvcigiLmljb25mb250IikuY2xhc3NMaXN0LmFkZCgiY3VycmVudFJvdyIpOwogICAgICAgICAgdGFibGVSb3dzW2luZGV4XS5jaGlsZHJlblsyXS5xdWVyeVNlbGVjdG9yKCIuY2VsbCIpLmNsYXNzTGlzdC5hZGQoImN1cnJlbnRSb3ciKTsKICAgICAgICB9IC8vIOa4hemZpOS4iuS4gOmmlueahOagt+W8jwoKCiAgICAgICAgaWYgKGxhc3QgIT0gLTEpIHsKICAgICAgICAgIHZhciBsYXN0SW5kZXggPSB0aGlzLnJlY29tbWVuZE11c2ljLmZpbmRJbmRleChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgICByZXR1cm4gaXRlbS5pZCA9PSBsYXN0OwogICAgICAgICAgfSk7CgogICAgICAgICAgaWYgKGxhc3RJbmRleCAhPSAtMSkgewogICAgICAgICAgICAvLyDlsIbkuIrkuIDkuKrmkq3mlL7nmoRkb23nmoTlsI/lloflj63mjaLlm57ntKLlvJUKICAgICAgICAgICAgdGFibGVSb3dzW2xhc3RJbmRleF0uY2hpbGRyZW5bMF0ucXVlcnlTZWxlY3RvcigiLmNlbGwiKS5pbm5lckhUTUwgPSAiPGRpdj4iLmNvbmNhdChsYXN0SW5kZXggKyAxIDwgMTAgPyAiMCIgKyAobGFzdEluZGV4ICsgMSkgOiBsYXN0SW5kZXggKyAxLCAiPC9kaXY+Iik7IC8vIOWwhuS4iuS4gOmmlueahOexu+WQjeWIoOaOiSAg5bCP5ZaH5Y+t55qEaHRtbOW3sue7j+iiq+abv+aNouS6hu+8jOS4jemcgOimgeWGjei/mOWOnwoKICAgICAgICAgICAgdGFibGVSb3dzW2xhc3RJbmRleF0uY2hpbGRyZW5bMl0ucXVlcnlTZWxlY3RvcigiLmNlbGwiKS5jbGFzc0xpc3QucmVtb3ZlKCJjdXJyZW50Um93Iik7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgY2xpY2tDZWxsOiBmdW5jdGlvbiBjbGlja0NlbGwocm93LCBjb2x1bW4sIGNlbGwpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMygpIHsKICAgICAgICB2YXIgcmVzLCB1cmwsIHNlcnZlLCBwYXJhbXMsIGRvd25sb2FkTXVzaWNJbmZvOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBpZiAoIWNlbGwucXVlcnlTZWxlY3RvcigiLmljb24tZG93bmxvYWQiKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDE5OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAvLyDor7fmsYLor6XmrYzmm7LnmoR1cmwKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJvdyk7CiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMzLiRyZXF1ZXN0KCIvc29uZy91cmwiLCB7CiAgICAgICAgICAgICAgICAgIGlkOiByb3cuaWQKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICByZXMgPSBfY29udGV4dDMuc2VudDsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlcy5kYXRhLmRhdGFbMF0udXJsKTsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlcyk7CgogICAgICAgICAgICAgICAgaWYgKCEocmVzLmRhdGEuZGF0YVswXS51cmwgPT0gbnVsbCkpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAxMDsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX3RoaXMzLiRtZXNzYWdlLndhcm5pbmcoIuaaguaXtuaXoOazleiOt+WPluivpei1hOa6kOWTpiEiKTsKCiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLmFicnVwdCgicmV0dXJuIik7CgogICAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgICAvLyDljLnphY3otYTmupDnmoTln5/lkI0KICAgICAgICAgICAgICAgIHVybCA9IHJlcy5kYXRhLmRhdGFbMF0udXJsLm1hdGNoKC9caHR0cC4qP1wubmV0Lyk7IC8vIOWMuemFjeWfn+WQjeWQjeensO+8jOW5tuWMuemFjeWvueW6lOeahOS7o+eQhgoKICAgICAgICAgICAgICAgIHNlcnZlID0gdXJsWzBdLm1hdGNoKC9odHRwOlwvKFxTKikubXVzaWMvKVsxXTsKCiAgICAgICAgICAgICAgICBpZiAoIShzZXJ2ZSAhPSAiL203IiAmJiBzZXJ2ZSAhPSAiL203MDEiICYmIHNlcnZlICE9ICIvbTgiICYmIHNlcnZlICE9ICIvbTgwMSIpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMTU7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIC8vIOayoeacieWvueW6lOeahOS7o+eQhgogICAgICAgICAgICAgICAgX3RoaXMzLiRtZXNzYWdlLmVycm9yKCLljLnphY3kuI3liLDlr7nlupTnmoTku6PnkIYs5LiL6L295aSx6LSlISIpOwoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuYWJydXB0KCJyZXR1cm4iKTsKCiAgICAgICAgICAgICAgY2FzZSAxNToKICAgICAgICAgICAgICAgIC8vIOaIquWPluWQjumdoueahOWPguaVsAogICAgICAgICAgICAgICAgcGFyYW1zID0gcmVzLmRhdGEuZGF0YVswXS51cmwuc2xpY2UodXJsWzBdLmxlbmd0aCk7IC8vIGNvbnNvbGUubG9nKHVybFswXSwgc2VydmUsIHBhcmFtcyk7CgogICAgICAgICAgICAgICAgZG93bmxvYWRNdXNpY0luZm8gPSB7CiAgICAgICAgICAgICAgICAgIHVybDogc2VydmUgKyBwYXJhbXMsCiAgICAgICAgICAgICAgICAgIG5hbWU6IHJvdy5uYW1lICsgIiAtICIgKyByb3cuYXJbMF0ubmFtZSArICIuIiArIHJlcy5kYXRhLmRhdGFbMF0udHlwZS50b0xvd2VyQ2FzZSgpCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgY29uc29sZS5sb2coZG93bmxvYWRNdXNpY0luZm8pOwoKICAgICAgICAgICAgICAgIF90aGlzMy4kc3RvcmUuY29tbWl0KCJ1cGRhdGVEb3dubG9hZE11c2ljSW5mbyIsIGRvd25sb2FkTXVzaWNJbmZvKTsKCiAgICAgICAgICAgICAgY2FzZSAxOToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMyk7CiAgICAgIH0pKSgpOwogICAgfQogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIGlmICghdGhpcy4kc3RvcmUuc3RhdGUuaXNMb2dpbikgewogICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCLlj6rmnInnmbvlvZXlkI7miY3og73ov5vlhaXmr4/ml6XmjqjojZDpobXpnaLlk6YhIik7CiAgICAgIHRoaXMuJHJvdXRlci5yZXBsYWNlKCIvZGlzY292ZXIiKTsKICAgIH0KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB2YXIgX3RoaXM0ID0gdGhpczsKCiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNCgpIHsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU0JChfY29udGV4dDQpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dDQucHJldiA9IF9jb250ZXh0NC5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBpZiAoIV90aGlzNC4kc3RvcmUuc3RhdGUuaXNMb2dpbikgewogICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSA0OwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDM7CiAgICAgICAgICAgICAgcmV0dXJuIF90aGlzNC5nZXRSZWNvbW1lbmRNdXNpYygpOwoKICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgIC8vIOWIpOaWreaYr+WQpuWSjOS4iuS4gOasoeaJk+W8gOeahOatjOWNleebuOWQjAogICAgICAgICAgICAgIGlmIChfdGhpczQucmVjb21tZW5kTXVzaWNMaXN0SWQgPT0gX3RoaXM0LiRzdG9yZS5zdGF0ZS5tdXNpY0xpc3RJZCkgewogICAgICAgICAgICAgICAgX3RoaXM0LmhhbmRsZURPTShfdGhpczQuJHN0b3JlLnN0YXRlLm11c2ljSWQpOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWU0KTsKICAgIH0pKSgpOwogIH0sCiAgd2F0Y2g6IHsKICAgICIkc3RvcmUuc3RhdGUubXVzaWNJZCI6IGZ1bmN0aW9uICRzdG9yZVN0YXRlTXVzaWNJZChjdXJyZW50LCBsYXN0KSB7CiAgICAgIHRoaXMuaGFuZGxlRE9NKGN1cnJlbnQsIGxhc3QpOwogICAgfQogIH0KfTs="},{"version":3,"sources":["RecommendMusic.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"recommendMusic\">\n    <!-- 每日推荐歌曲信息 -->\n    <div class=\"recommendInfo\">\n      <div class=\"title\">\n        <div class=\"cover\">\n          <img src=\"~assets/img/recommend.jpg\" alt=\"\" />\n        </div>\n        <div class=\"titleInfo\">\n          <div class=\"infoTop\">每日推荐歌曲</div>\n          <div class=\"infoBottom\">由你的音乐口味生成，每天0:00更新</div>\n        </div>\n      </div>\n      <!-- 操作按钮 -->\n      <div class=\"buttons\">\n        <div class=\"buttonItem playAll\" @click=\"playAll\">\n          <i class=\"iconfont icon-bofang playAll\"></i>\n          <span>播放全部</span>\n        </div>\n        <div class=\"buttonItem\">\n          <i class=\"iconfont icon-xihuan\"></i>\n          <span>收藏全部</span>\n        </div>\n      </div>\n    </div>\n    <!-- 歌曲列表 -->\n    <div v-if=\"recommendMusic.length != 0\">\n      <!-- 表格 -->\n      <el-table\n        :data=\"recommendMusic\"\n        size=\"mini\"\n        style=\"width: 100%\"\n        @row-dblclick=\"clickRow\"\n        @cell-click=\"clickCell\"\n        highlight-current-row\n        stripe\n        lazy\n      >\n        <el-table-column label=\"\" width=\"30\" type=\"index\" :index=\"handleIndex\">\n        </el-table-column>\n        <el-table-column label=\"\" width=\"23\">\n          <!-- 下载按钮 -->\n          <i class=\"iconfont icon-download\"></i>\n        </el-table-column>\n        <el-table-column prop=\"name\" label=\"音乐标题\" min-width=\"350\">\n        </el-table-column>\n        <el-table-column prop=\"ar[0].name\" label=\"歌手\" min-width=\"120\">\n        </el-table-column>\n        <el-table-column prop=\"al.name\" label=\"专辑\" min-width=\"170\">\n        </el-table-column>\n        <el-table-column prop=\"dt\" label=\"时长\" min-width=\"100\">\n        </el-table-column>\n      </el-table>\n      <div class=\"placeholder\"></div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { handleMusicTime } from \"plugins/utils\";\n\nexport default {\n  name: \"RecommendMusic\",\n  data() {\n    return {\n      // 每日推荐歌曲列表\n      recommendMusic: [],\n      //   每日推荐id （自己起的，用于上传vuex当musicListId，只是作为一个唯一标识）\n      recommendMusicListId: \"recommendMusic\",\n    };\n  },\n  methods: {\n    //   请求\n    // 获取每日推荐歌曲\n    async getRecommendMusic() {\n      let res = await this.$request(\"/recommend/songs\");\n      this.recommendMusic = res.data.data.dailySongs;\n      // 处理时间\n      this.recommendMusic.forEach((item, index) => {\n        this.recommendMusic[index].dt = handleMusicTime(item.dt);\n      });\n    },\n\n    // 事件\n    // 点击播放全部按钮的回调\n    playAll() {\n      console.log(this.recommendMusic);\n      this.$store.commit(\"updateMusicId\", this.recommendMusic[0].id);\n      this.$store.commit(\"updateMusicList\", {\n        musicList: this.recommendMusic,\n        musicListId: this.recommendMusicListId,\n      });\n    },\n    // 处理table索引\n    handleIndex(index) {\n      // console.log(index);\n      index += 1;\n      if (index < 10) {\n        return \"0\" + index;\n      } else {\n        return index;\n      }\n    },\n    // 双击table的row的回调\n    // 播放音乐的逻辑操作\n    async clickRow(row) {\n      // console.log(row);\n      // 将musicId提交到vuex中 供bottomControl查询歌曲url和其它操作\n      this.$store.commit(\"updateMusicId\", row.id);\n      // 如果歌单发生变化,则提交歌单到vuex\n      if (this.recommendMusicListId != this.$store.state.musicListId) {\n        // 将歌单传到vuex\n        this.$store.commit(\"updateMusicList\", {\n          musicList: this.recommendMusic,\n          musicListId: this.recommendMusicListId,\n        });\n      }\n    },\n\n    // 操作 DOM\n    handleDOM(current, last) {\n      if (document.querySelector(\".recommendMusic\")) {\n        let tableRows = document\n          .querySelector(\".recommendMusic\")\n          .querySelectorAll(\".el-table__row\");\n        // 遍历当前musicList 找到当前播放的index的行进行渲染\n        // console.log(tableRows);\n        let index = this.recommendMusic.findIndex((item) => item.id == current);\n        // console.log(index);\n        if (index != -1) {\n          // 直接修改dom样式的颜色无效\n          // 通过引入全局样式解决\n          // 将正在播放的音乐前面的索引换成小喇叭\n          tableRows[index].children[0].querySelector(\n            \".cell\"\n          ).innerHTML = `<div><i class=\"iconfont icon-yinliang\"></i></div>`;\n          tableRows[index].children[0]\n            .querySelector(\".iconfont\")\n            .classList.add(\"currentRow\");\n          tableRows[index].children[2]\n            .querySelector(\".cell\")\n            .classList.add(\"currentRow\");\n        }\n        // 清除上一首的样式\n        if (last != -1) {\n          let lastIndex = this.recommendMusic.findIndex(\n            (item) => item.id == last\n          );\n          if (lastIndex != -1) {\n            // 将上一个播放的dom的小喇叭换回索引\n            tableRows[lastIndex].children[0].querySelector(\n              \".cell\"\n            ).innerHTML = `<div>${\n              lastIndex + 1 < 10 ? \"0\" + (lastIndex + 1) : lastIndex + 1\n            }</div>`;\n\n            // 将上一首的类名删掉  小喇叭的html已经被替换了，不需要再还原\n            tableRows[lastIndex].children[2]\n              .querySelector(\".cell\")\n              .classList.remove(\"currentRow\");\n          }\n        }\n      }\n    },\n\n    async clickCell(row, column, cell) {\n      // 判断点击的是下载按钮\n      if (cell.querySelector(\".icon-download\")) {\n        // 请求该歌曲的url\n        console.log(row);\n        let res = await this.$request(\"/song/url\", { id: row.id });\n        console.log(res.data.data[0].url);\n        console.log(res);\n        if (res.data.data[0].url == null) {\n          this.$message.warning(\"暂时无法获取该资源哦!\");\n          return;\n        }\n\n        // 匹配资源的域名\n        let url = res.data.data[0].url.match(/\\http.*?\\.net/);\n        // 匹配域名名称，并匹配对应的代理\n        let serve = url[0].match(/http:\\/(\\S*).music/)[1];\n        if (\n          serve != \"/m7\" &&\n          serve != \"/m701\" &&\n          serve != \"/m8\" &&\n          serve != \"/m801\"\n        ) {\n          // 没有对应的代理\n          this.$message.error(\"匹配不到对应的代理,下载失败!\");\n          return;\n        }\n        // 截取后面的参数\n        let params = res.data.data[0].url.slice(url[0].length);\n        // console.log(url[0], serve, params);\n\n        let downloadMusicInfo = {\n          url: serve + params,\n          name:\n            row.name +\n            \" - \" +\n            row.ar[0].name +\n            \".\" +\n            res.data.data[0].type.toLowerCase(),\n        };\n        console.log(downloadMusicInfo);\n        this.$store.commit(\"updateDownloadMusicInfo\", downloadMusicInfo);\n      }\n    },\n  },\n  created() {\n    if (!this.$store.state.isLogin) {\n      this.$message.error(\"只有登录后才能进入每日推荐页面哦!\");\n      this.$router.replace(\"/discover\");\n    }\n  },\n  async mounted() {\n    if (this.$store.state.isLogin) {\n      await this.getRecommendMusic();\n      // 判断是否和上一次打开的歌单相同\n      if (this.recommendMusicListId == this.$store.state.musicListId) {\n        this.handleDOM(this.$store.state.musicId);\n      }\n    }\n  },\n  watch: {\n    \"$store.state.musicId\"(current, last) {\n      this.handleDOM(current, last);\n    },\n  },\n};\n</script>\n\n<style scoped>\n.recommendInfo {\n  padding: 20px;\n}\n\n.title {\n  display: flex;\n}\n\n.cover {\n  width: 90px;\n}\n\n.cover img {\n  width: 100%;\n}\n\n.titleInfo {\n  padding: 15px 10px;\n}\n\n.infoTop {\n  font-size: 19px;\n  font-weight: bold;\n  color: black;\n  margin: 3px 0;\n}\n\n.infoBottom {\n  font-size: 12px;\n}\n\n.buttons {\n  margin: 8px 0 0 3px;\n  display: flex;\n}\n\n.buttonItem {\n  font-size: 12px;\n  padding: 8px 15px;\n  border: 1px solid #ddd;\n  border-radius: 20px;\n  transform: scale(0.9);\n}\n\n.buttonItem i {\n  font-size: 12px;\n  margin-right: 3px;\n  transform: scale(0.9);\n}\n\n.playAll {\n  background-color: #ec4141;\n  color: white;\n}\n\n.placeholder {\n  width: 100%;\n  height: 50px;\n}\n</style>"],"sourceRoot":"src/views/recommendMusic"}]}