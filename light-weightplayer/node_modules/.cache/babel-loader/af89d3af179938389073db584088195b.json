{"remainingRequest":"D:\\vue_cloud_music-master\\light-webplayer\\node_modules\\babel-loader\\lib\\index.js!D:\\vue_cloud_music-master\\light-webplayer\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\vue_cloud_music-master\\light-webplayer\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\vue_cloud_music-master\\light-webplayer\\src\\views\\musicListDetail\\MusicListDetail.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\vue_cloud_music-master\\light-webplayer\\src\\views\\musicListDetail\\MusicListDetail.vue","mtime":1632135031000},{"path":"D:\\vue_cloud_music-master\\light-webplayer\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1636408355875},{"path":"D:\\vue_cloud_music-master\\light-webplayer\\node_modules\\babel-loader\\lib\\index.js","mtime":1636408357214},{"path":"D:\\vue_cloud_music-master\\light-webplayer\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1636408355875},{"path":"D:\\vue_cloud_music-master\\light-webplayer\\node_modules\\vue-loader\\lib\\index.js","mtime":1636408357599}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tICJEOi92dWVfY2xvdWRfbXVzaWMtbWFzdGVyL2xpZ2h0LXdlYnBsYXllci9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vdG9Db25zdW1hYmxlQXJyYXkiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiRDovdnVlX2Nsb3VkX211c2ljLW1hc3Rlci9saWdodC13ZWJwbGF5ZXIvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maW5kLWluZGV4LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc2xpY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maW5kLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcubWF0Y2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgZm9ybWF0RGF0ZSwgaGFuZGxlTnVtLCBoYW5kbGVNdXNpY1RpbWUgfSBmcm9tICJwbHVnaW5zL3V0aWxzIjsKaW1wb3J0IENvbW1lbnQgZnJvbSAiY29tcG9uZW50cy9jb21tZW50L0NvbW1lbnQiOwppbXBvcnQgR29Ub3AgZnJvbSAiY29tcG9uZW50cy9nb1RvcC9Hb1RvcC52dWUiOwppbXBvcnQgVXNlckxpc3RDYXJkIGZyb20gImNvbXBvbmVudHMvdXNlckxpc3RDYXJkL1VzZXJMaXN0Q2FyZC52dWUiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIk11c2ljTGlzdERldGFpbCIsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIG11c2ljTGlzdERldGFpbDogbnVsbCwKICAgICAgY29tbWVudHM6IHt9LAogICAgICAvLyDlvZPliY3or4TorrrpobXmlbAKICAgICAgY3VycmVudENvbW1lbnRQYWdlOiAxLAogICAgICAvLyDmmK/lkKbov5jmnInmm7TlpJrpn7PkuZAKICAgICAgaXNNb3JlOiBmYWxzZSwKICAgICAgLy8g55So5oi35piv5ZCm5pS26JeP5LqG5b2T5YmN5q2M5Y2VCiAgICAgIGlzU3ViOiBmYWxzZSwKICAgICAgLy8g5piv5ZCm5piv55So5oi35Yib5bu655qE5q2M5Y2VCiAgICAgIGlzQ3JlYXRlZDogZmFsc2UsCiAgICAgIC8vIOivhOiuuuaYr+WQpuWcqOWKoOi9vQogICAgICBpc0NvbW1lbnRMb2FkaW5nOiBmYWxzZSwKICAgICAgLy8g5piv5ZCm56aB5q2i5rua5Yqo5Yqg6L29CiAgICAgIHNjcm9sbExvYWREaXNhYmxlZDogZmFsc2UsCiAgICAgIC8vIOaUtuiXj+iAheWIl+ihqOeahOWPmOmHjwogICAgICBmb2xsb3dlZHNMaXN0RGF0YTogewogICAgICAgIC8vIOW9k+WJjemhteaVsAogICAgICAgIGN1cnJlbnRQYWdlOiAxLAogICAgICAgIC8vIOWIl+ihqAogICAgICAgIGZvbGxvd2Vkc0xpc3Q6IFtdLAogICAgICAgIC8vIOaYr+WQpui/mOacieabtOWkmgogICAgICAgIGlzTW9yZTogZmFsc2UsCiAgICAgICAgLy8g5piv5ZCm5bey57uP5Yqg6L296L+H5YiX6KGo5pWw5o2uIO+8iOeUqOS6jueCueWHu+aUtuiXj+iAhXRhYuWQjuesrOS4gOasoeWKoOi9veaVsOaNru+8iQogICAgICAgIGlzTG9hZGVkOiBmYWxzZQogICAgICB9CiAgICB9OwogIH0sCiAgY29tcG9uZW50czogewogICAgQ29tbWVudDogQ29tbWVudCwKICAgIEdvVG9wOiBHb1RvcCwKICAgIFVzZXJMaXN0Q2FyZDogVXNlckxpc3RDYXJkCiAgfSwKICBtZXRob2RzOiB7CiAgICAvLyDor7fmsYIKICAgIC8vIOagueaNruS8oOadpeeahCBpZCDmn6Xor6LmrYzljZUKICAgIGdldE11c2ljTGlzdERldGFpbDogZnVuY3Rpb24gZ2V0TXVzaWNMaXN0RGV0YWlsKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgdGltZXN0YW1wLCByZXN1bHQ7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgdGltZXN0YW1wID0gRGF0ZS5wYXJzZShuZXcgRGF0ZSgpKTsgLy8gY29uc29sZS5sb2codGhpcy4kcm91dGUucGFyYW1zLmlkKTsKCiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy4kcmVxdWVzdCgiL3BsYXlsaXN0L2RldGFpbCIsIHsKICAgICAgICAgICAgICAgICAgaWQ6IF90aGlzLiRyb3V0ZS5wYXJhbXMuaWQsCiAgICAgICAgICAgICAgICAgIHRpbWVzdGFtcDogdGltZXN0YW1wCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgcmVzdWx0ID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHJlc3VsdCk7CiAgICAgICAgICAgICAgICBfdGhpcy5tdXNpY0xpc3REZXRhaWwgPSByZXN1bHQuZGF0YS5wbGF5bGlzdDsgLy8gY29uc29sZS5sb2codGhpcy5tdXNpY0xpc3REZXRhaWwpOwogICAgICAgICAgICAgICAgLy8g5Yik5pat5piv5ZCm6L+Y5pyJ5pu05aSa6Z+z5LmQCgogICAgICAgICAgICAgICAgaWYgKF90aGlzLm11c2ljTGlzdERldGFpbC50cmFja3MubGVuZ3RoICE9IF90aGlzLm11c2ljTGlzdERldGFpbC50cmFja0lkcy5sZW5ndGgpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMuaXNNb3JlID0gdHJ1ZTsKICAgICAgICAgICAgICAgIH0gLy8g5aSE55CG5pKt5pS+5pe26Ze0CgoKICAgICAgICAgICAgICAgIF90aGlzLm11c2ljTGlzdERldGFpbC50cmFja3MuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSwgaW5kZXgpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMubXVzaWNMaXN0RGV0YWlsLnRyYWNrc1tpbmRleF0uZHQgPSBoYW5kbGVNdXNpY1RpbWUoaXRlbS5kdCk7CiAgICAgICAgICAgICAgICB9KTsgLy8g5Yik5pat55So5oi35piv5ZCm5Zac5qyi6K+l6Z+z5LmQCiAgICAgICAgICAgICAgICAvLyDnm7TmjqXkuKTkuKrlvqrnjq/mgKfog73mjZ/ogJflpKrljonlrrPkuoYg5rKh5LuA5LmI5oCd6Lev5pqC5pe25LiN5YGa5YWICiAgICAgICAgICAgICAgICAvLyBsZXQgbGlrZU11c2ljTGlzdCA9IHRoaXMuJHN0b3JlLnN0YXRlLmxpa2VNdXNpY0xpc3Q7CgoKICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgLy8g6I635Y+W5q2M5Y2V6K+E6K66CiAgICBnZXRNdXNpY0xpc3RDb21tZW50OiBmdW5jdGlvbiBnZXRNdXNpY0xpc3RDb21tZW50KHR5cGUpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgICB2YXIgdGltZXN0YW1wLCByZXM7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIC8vIOiOt+WPluaXtumXtOaIswogICAgICAgICAgICAgICAgdGltZXN0YW1wID0gRGF0ZS5wYXJzZShuZXcgRGF0ZSgpKTsKICAgICAgICAgICAgICAgIF90aGlzMi5pc0NvbW1lbnRMb2FkaW5nID0gdHJ1ZTsKCiAgICAgICAgICAgICAgICBpZiAodHlwZSA9PSAiY2hhbmdlUGFnZSIpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMyLnNjcm9sbFRvQ29tbWVudCgpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNTsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczIuJHJlcXVlc3QoIi9jb21tZW50L3BsYXlsaXN0IiwgewogICAgICAgICAgICAgICAgICBpZDogX3RoaXMyLiRyb3V0ZS5wYXJhbXMuaWQsCiAgICAgICAgICAgICAgICAgIG9mZnNldDogKF90aGlzMi5jdXJyZW50Q29tbWVudFBhZ2UgLSAxKSAqIDUwLAogICAgICAgICAgICAgICAgICBsaW1pdDogNTAsCiAgICAgICAgICAgICAgICAgIHRpbWVzdGFtcDogdGltZXN0YW1wCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgcmVzID0gX2NvbnRleHQyLnNlbnQ7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXMpOwoKICAgICAgICAgICAgICAgIGlmIChyZXMuZGF0YS5jb2RlICE9PSAyMDApIHsKICAgICAgICAgICAgICAgICAgX3RoaXMyLiRtZXNzYWdlLmVycm9yKCLojrflj5bor4TorrrlpLHotKUs6K+356iN5ZCO6YeN6K+VISIpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF90aGlzMi5jb21tZW50cyA9IHJlcy5kYXRhOwogICAgICAgICAgICAgICAgX3RoaXMyLmlzQ29tbWVudExvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCLph43mlrDmrYzljZXojrflj5bor4TorroiKTsKCiAgICAgICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMik7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIHNjcm9sbFRvQ29tbWVudDogZnVuY3Rpb24gc2Nyb2xsVG9Db21tZW50KCkgewogICAgICB2YXIgbXVzaWNMaXN0RGV0YWlsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiLm11c2ljTGlzdERldGFpbCIpOwogICAgICB2YXIgbGlzdEluZm8gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIubGlzdEluZm8iKTsgLy8gY29uc29sZS5sb2coIuaJp+ihjOS6hui/memHjCDmu5rliqjliLDnsr7lvanor4TorroiLCBbbGlzdEluZm9dKTsKCiAgICAgIG11c2ljTGlzdERldGFpbC5zY3JvbGxUbyh7CiAgICAgICAgYmVoYXZpb3I6ICJzbW9vdGgiLAogICAgICAgIHRvcDogbGlzdEluZm8uY2xpZW50SGVpZ2h0IC0gMjAKICAgICAgfSk7CiAgICB9LAogICAgLy8g6I635Y+W5q2M5puy6K+m5oOFCiAgICBnZXRNdXNpY0RldGFpbDogZnVuY3Rpb24gZ2V0TXVzaWNEZXRhaWwoaWRzKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMoKSB7CiAgICAgICAgdmFyIF90aGlzMyRtdXNpY0xpc3REZXRhaTsKCiAgICAgICAgdmFyIHJlczsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMkKF9jb250ZXh0MykgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgaWYgKCEoX3RoaXMzLmlzTW9yZSA9PSBmYWxzZSkpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAyOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLmFicnVwdCgicmV0dXJuIik7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIF90aGlzMy5zY3JvbGxMb2FkRGlzYWJsZWQgPSB0cnVlOwogICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSA1OwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMy4kcmVxdWVzdCgiL3NvbmcvZGV0YWlsIiwgewogICAgICAgICAgICAgICAgICBpZHM6IGlkcwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgIHJlcyA9IF9jb250ZXh0My5zZW50OwogICAgICAgICAgICAgICAgLy8g5aSE55CG5pe26Ze0CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXMpOwogICAgICAgICAgICAgICAgcmVzLmRhdGEuc29uZ3MuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSwgaW5kZXgpIHsKICAgICAgICAgICAgICAgICAgcmVzLmRhdGEuc29uZ3NbaW5kZXhdLmR0ID0gaGFuZGxlTXVzaWNUaW1lKGl0ZW0uZHQpOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgKF90aGlzMyRtdXNpY0xpc3REZXRhaSA9IF90aGlzMy5tdXNpY0xpc3REZXRhaWwudHJhY2tzKS5wdXNoLmFwcGx5KF90aGlzMyRtdXNpY0xpc3REZXRhaSwgX3RvQ29uc3VtYWJsZUFycmF5KHJlcy5kYXRhLnNvbmdzKSk7IC8vIOWIpOaWreaYr+WQpui/mOacieabtOWkmumfs+S5kAoKCiAgICAgICAgICAgICAgICBpZiAoX3RoaXMzLm11c2ljTGlzdERldGFpbC50cmFja3MubGVuZ3RoIDwgX3RoaXMzLm11c2ljTGlzdERldGFpbC50cmFja0lkcy5sZW5ndGgpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMzLmlzTW9yZSA9IHRydWU7CiAgICAgICAgICAgICAgICAgIF90aGlzMy5zY3JvbGxMb2FkRGlzYWJsZWQgPSBmYWxzZTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMy5pc01vcmUgPSBmYWxzZTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMyk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIC8vIOivt+axgueUqOaIt+atjOWNlQogICAgZ2V0VXNlck11c2ljTGlzdDogZnVuY3Rpb24gZ2V0VXNlck11c2ljTGlzdCgpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNCgpIHsKICAgICAgICB2YXIgdGltZXN0YW1wLCByZXMsIGluZGV4OwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNCQoX2NvbnRleHQ0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NC5wcmV2ID0gX2NvbnRleHQ0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICB0aW1lc3RhbXAgPSBEYXRlLnBhcnNlKG5ldyBEYXRlKCkpOyAvLyDlhYjku45sb2NhbFN0b3JhZ2Xph4zpnaLor7vlj5bnlKjmiLfkv6Hmga8gIOWmguaenOeZu+W9leaIkOWKn+aYr+acieWtmOeahAoKICAgICAgICAgICAgICAgIF90aGlzNC51c2VySW5mbyA9IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgidXNlckluZm8iKSAmJiBKU09OLnBhcnNlKHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgidXNlckluZm8iKSk7CiAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXM0LiRyZXF1ZXN0KCIvdXNlci9wbGF5bGlzdCIsIHsKICAgICAgICAgICAgICAgICAgdWlkOiBfdGhpczQudXNlckluZm8udXNlcklkLAogICAgICAgICAgICAgICAgICB0aW1lc3RhbXA6IHRpbWVzdGFtcAogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICAgIHJlcyA9IF9jb250ZXh0NC5zZW50OwogICAgICAgICAgICAgICAgcmVzID0gcmVzLmRhdGEucGxheWxpc3Q7CiAgICAgICAgICAgICAgICBpbmRleCA9IHJlcy5maW5kSW5kZXgoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIGl0ZW0uc3Vic2NyaWJlZCA9PSB0cnVlOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBfdGhpczQuY29sbGVjdGVkTXVzaWNMaXN0ID0gcmVzLnNsaWNlKGluZGV4KTsgLy8g5bCG5pS26JeP55qE5q2M5Y2V5LiK5Lyg6IezdnVleAoKICAgICAgICAgICAgICAgIF90aGlzNC4kc3RvcmUuY29tbWl0KCJ1cGRhdGVDb2xsZWN0TXVzaWNMaXN0IiwgX3RoaXM0LmNvbGxlY3RlZE11c2ljTGlzdCk7CgogICAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNCk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIC8vIOiOt+WPluatjOWNleaUtuiXj+iAhQogICAgZ2V0TXVzaWNMaXN0Rm9sbG93ZWRzOiBmdW5jdGlvbiBnZXRNdXNpY0xpc3RGb2xsb3dlZHMoKSB7CiAgICAgIHZhciBfdGhpczUgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTUoKSB7CiAgICAgICAgdmFyIF90aGlzNSRmb2xsb3dlZHNMaXN0RDsKCiAgICAgICAgdmFyIHJlczsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTUkKF9jb250ZXh0NSkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDUucHJldiA9IF9jb250ZXh0NS5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzNS4kcmVxdWVzdCgiL3BsYXlsaXN0L3N1YnNjcmliZXJzIiwgewogICAgICAgICAgICAgICAgICBpZDogX3RoaXM1LiRyb3V0ZS5wYXJhbXMuaWQsCiAgICAgICAgICAgICAgICAgIG9mZnNldDogKF90aGlzNS5mb2xsb3dlZHNMaXN0RGF0YS5jdXJyZW50UGFnZSAtIDEpICogMjAKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICByZXMgPSBfY29udGV4dDUuc2VudDsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlcyk7CiAgICAgICAgICAgICAgICBfdGhpczUuZm9sbG93ZWRzTGlzdERhdGEuaXNNb3JlID0gcmVzLmRhdGEubW9yZTsKCiAgICAgICAgICAgICAgICAoX3RoaXM1JGZvbGxvd2Vkc0xpc3REID0gX3RoaXM1LmZvbGxvd2Vkc0xpc3REYXRhLmZvbGxvd2Vkc0xpc3QpLnB1c2guYXBwbHkoX3RoaXM1JGZvbGxvd2Vkc0xpc3RELCBfdG9Db25zdW1hYmxlQXJyYXkocmVzLmRhdGEuc3Vic2NyaWJlcnMpKTsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU1KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgLy8g5LqL5Lu25Ye95pWwCiAgICBoYW5kbGVJbmRleDogZnVuY3Rpb24gaGFuZGxlSW5kZXgoaW5kZXgpIHsKICAgICAgLy8gY29uc29sZS5sb2coaW5kZXgpOwogICAgICBpbmRleCArPSAxOwoKICAgICAgaWYgKGluZGV4IDwgMTApIHsKICAgICAgICByZXR1cm4gIjAiICsgaW5kZXg7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuIGluZGV4OwogICAgICB9CiAgICB9LAogICAgLy8g5Y+M5Ye7dGFibGXnmoRyb3fnmoTlm57osIMKICAgIGNsaWNrUm93OiBmdW5jdGlvbiBjbGlja1Jvdyhyb3cpIHsKICAgICAgdmFyIF90aGlzNiA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNigpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTYkKF9jb250ZXh0NikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDYucHJldiA9IF9jb250ZXh0Ni5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgY29uc29sZS5sb2cocm93KTsgLy8g5bCGbXVzaWNJZOaPkOS6pOWIsHZ1ZXjkuK0g5L6bYm90dG9tQ29udHJvbOafpeivouatjOabsnVybOWSjOWFtuWug+aTjeS9nAoKICAgICAgICAgICAgICAgIF90aGlzNi4kc3RvcmUuY29tbWl0KCJ1cGRhdGVNdXNpY0lkIiwgcm93LmlkKTsgLy8g5aaC5p6c5q2M5Y2V5Y+R55Sf5Y+Y5YyWLOWImeaPkOS6pOatjOWNleWIsHZ1ZXgKCgogICAgICAgICAgICAgICAgaWYgKF90aGlzNi5tdXNpY0xpc3REZXRhaWwuaWQgIT0gX3RoaXM2LiRzdG9yZS5zdGF0ZS5tdXNpY0xpc3RJZCkgewogICAgICAgICAgICAgICAgICAvLyDlsIbmrYzljZXkvKDliLB2dWV4CiAgICAgICAgICAgICAgICAgIF90aGlzNi4kc3RvcmUuY29tbWl0KCJ1cGRhdGVNdXNpY0xpc3QiLCB7CiAgICAgICAgICAgICAgICAgICAgbXVzaWNMaXN0OiBfdGhpczYubXVzaWNMaXN0RGV0YWlsLnRyYWNrcywKICAgICAgICAgICAgICAgICAgICBtdXNpY0xpc3RJZDogX3RoaXM2Lm11c2ljTGlzdERldGFpbC5pZAogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0gLy8gbGV0IHJlc3VsdCA9IGF3YWl0IHRoaXMuJHJlcXVlc3QoIi9zb25nL3VybCIsIHsgaWQ6IHJvdy5pZCwgYnI6IDMyMDAwMCB9KTsKICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHJlc3VsdC5kYXRhLmRhdGFbMF0udXJsKTsKICAgICAgICAgICAgICAgIC8vIHRoaXMuJHN0b3JlLmNvbW1pdCgidXBkYXRlTXVzaWNVcmwiLCByZXN1bHQuZGF0YS5kYXRhWzBdLnVybCk7CgoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDYuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTYpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICAvLyDngrnlh7vmkq3mlL7lhajpg6jmjInpkq7nmoTlm57osIMKICAgIHBsYXlBbGw6IGZ1bmN0aW9uIHBsYXlBbGwoKSB7CiAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgidXBkYXRlTXVzaWNJZCIsIHRoaXMubXVzaWNMaXN0RGV0YWlsLnRyYWNrc1swXS5pZCk7CiAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgidXBkYXRlTXVzaWNMaXN0IiwgewogICAgICAgIG11c2ljTGlzdDogdGhpcy5tdXNpY0xpc3REZXRhaWwudHJhY2tzLAogICAgICAgIG11c2ljTGlzdElkOiB0aGlzLm11c2ljTGlzdERldGFpbC5pZAogICAgICB9KTsKICAgIH0sCiAgICAvLyDor4Torrrngrnlh7vnv7vpobXnmoTlm57osIMKICAgIGNvbW1lbnRQYWdlQ2hhbmdlOiBmdW5jdGlvbiBjb21tZW50UGFnZUNoYW5nZShwYWdlKSB7CiAgICAgIHRoaXMuY3VycmVudENvbW1lbnRQYWdlID0gcGFnZTsKICAgICAgdGhpcy5nZXRNdXNpY0xpc3RDb21tZW50KCJjaGFuZ2VQYWdlIik7CiAgICB9LAogICAgaGFuZGxlRE9NOiBmdW5jdGlvbiBoYW5kbGVET00oY3VycmVudCwgbGFzdCkgewogICAgICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiLm11c2ljTGlzdERldGFpbCIpKSB7CiAgICAgICAgdmFyIHRhYmxlUm93cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIi5tdXNpY0xpc3REZXRhaWwiKS5xdWVyeVNlbGVjdG9yQWxsKCIuZWwtdGFibGVfX3JvdyIpOyAvLyDpgY3ljoblvZPliY1tdXNpY0xpc3Qg5om+5Yiw5b2T5YmN5pKt5pS+55qEaW5kZXjnmoTooYzov5vooYzmuLLmn5MKICAgICAgICAvLyBjb25zb2xlLmxvZyh0YWJsZVJvd3MpOwoKICAgICAgICB2YXIgaW5kZXggPSB0aGlzLm11c2ljTGlzdERldGFpbC50cmFja3MuZmluZEluZGV4KGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICByZXR1cm4gaXRlbS5pZCA9PSBjdXJyZW50OwogICAgICAgIH0pOyAvLyBjb25zb2xlLmxvZyhpbmRleCk7CgogICAgICAgIGlmIChpbmRleCAhPSAtMSkgewogICAgICAgICAgLy8g55u05o6l5L+u5pS5ZG9t5qC35byP55qE6aKc6Imy5peg5pWIICDlj6/og73mmK/lm6DkuLrnrKzkuInmlrnnu4Tku7bnmoTljp/mlYUKICAgICAgICAgIC8vIOmAmui/h+W8leWFpeWFqOWxgOagt+W8j+ino+WGswogICAgICAgICAgLy8g5bCG5q2j5Zyo5pKt5pS+55qE6Z+z5LmQ5YmN6Z2i55qE57Si5byV5o2i5oiQ5bCP5ZaH5Y+tCiAgICAgICAgICB0YWJsZVJvd3NbaW5kZXhdLmNoaWxkcmVuWzBdLnF1ZXJ5U2VsZWN0b3IoIi5jZWxsIikuaW5uZXJIVE1MID0gIjxkaXY+PGkgY2xhc3M9XCJpY29uZm9udCBpY29uLXlpbmxpYW5nXCI+PC9pPjwvZGl2PiI7CiAgICAgICAgICB0YWJsZVJvd3NbaW5kZXhdLmNoaWxkcmVuWzBdLnF1ZXJ5U2VsZWN0b3IoIi5pY29uZm9udCIpLmNsYXNzTGlzdC5hZGQoImN1cnJlbnRSb3ciKTsKICAgICAgICAgIHRhYmxlUm93c1tpbmRleF0uY2hpbGRyZW5bMl0ucXVlcnlTZWxlY3RvcigiLmNlbGwiKS5jbGFzc0xpc3QuYWRkKCJjdXJyZW50Um93Iik7CiAgICAgICAgfSAvLyDmuIXpmaTkuIrkuIDpppbnmoTmoLflvI8KCgogICAgICAgIGlmIChsYXN0ICE9IC0xKSB7CiAgICAgICAgICB2YXIgbGFzdEluZGV4ID0gdGhpcy5tdXNpY0xpc3REZXRhaWwudHJhY2tzLmZpbmRJbmRleChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgICByZXR1cm4gaXRlbS5pZCA9PSBsYXN0OwogICAgICAgICAgfSk7CgogICAgICAgICAgaWYgKGxhc3RJbmRleCAhPSAtMSkgewogICAgICAgICAgICAvLyDlsIbkuIrkuIDkuKrmkq3mlL7nmoRkb23nmoTlsI/lloflj63mjaLlm57ntKLlvJUKICAgICAgICAgICAgdGFibGVSb3dzW2xhc3RJbmRleF0uY2hpbGRyZW5bMF0ucXVlcnlTZWxlY3RvcigiLmNlbGwiKS5pbm5lckhUTUwgPSAiPGRpdj4iLmNvbmNhdChsYXN0SW5kZXggKyAxIDwgMTAgPyAiMCIgKyAobGFzdEluZGV4ICsgMSkgOiBsYXN0SW5kZXggKyAxLCAiPC9kaXY+Iik7IC8vIOWwhuS4iuS4gOmmlueahOexu+WQjeWIoOaOiSAg5bCP5ZaH5Y+t55qEaHRtbOW3sue7j+iiq+abv+aNouS6hu+8jOS4jemcgOimgeWGjei/mOWOnwoKICAgICAgICAgICAgdGFibGVSb3dzW2xhc3RJbmRleF0uY2hpbGRyZW5bMl0ucXVlcnlTZWxlY3RvcigiLmNlbGwiKS5jbGFzc0xpc3QucmVtb3ZlKCJjdXJyZW50Um93Iik7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgLy8g54K55Ye7ZWwtdGFiLXBhbmXnmoTlm57osIMKICAgIGNsaWNrVGFiOiBmdW5jdGlvbiBjbGlja1RhYihlKSB7CiAgICAgIGNvbnNvbGUubG9nKGUuaW5kZXgpOwoKICAgICAgaWYgKGUuaW5kZXggPT0gMSAmJiAhdGhpcy5jb21tZW50cy5jb21tZW50cykgewogICAgICAgIHRoaXMuZ2V0TXVzaWNMaXN0Q29tbWVudCgpOwogICAgICB9IGVsc2UgaWYgKGUuaW5kZXggPT0gMiAmJiAhdGhpcy5mb2xsb3dlZHNMaXN0RGF0YS5pc0xvYWRlZCkgewogICAgICAgIHRoaXMuZ2V0TXVzaWNMaXN0Rm9sbG93ZWRzKCk7CiAgICAgICAgdGhpcy5mb2xsb3dlZHNMaXN0RGF0YS5pc0xvYWRlZCA9IHRydWU7CiAgICAgIH0KICAgIH0sCiAgICAvLyDngrnlh7vliqDovb3miYDmnInpn7PkuZDnmoTlm57osIMKICAgIGxvYWRNb3JlOiBmdW5jdGlvbiBsb2FkTW9yZSgpIHsKICAgICAgaWYgKCF0aGlzLiRzdG9yZS5zdGF0ZS5pc0xvZ2luKSB7CiAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcigi6K+35YWI6L+b6KGM55m75b2V5pON5L2cISIpOwogICAgICAgIHJldHVybjsKICAgICAgfSAvLyBjb25zb2xlLmxvZygi5Yqg6L295omA5pyJ6Z+z5LmQIik7CiAgICAgIC8vIHRoaXMuaXNNb3JlID0gZmFsc2U7CgoKICAgICAgdmFyIGFyciA9IHRoaXMubXVzaWNMaXN0RGV0YWlsLnRyYWNrSWRzLnNsaWNlKHRoaXMubXVzaWNMaXN0RGV0YWlsLnRyYWNrcy5sZW5ndGgpOwoKICAgICAgaWYgKGFyci5sZW5ndGggPiAxMDApIHsKICAgICAgICBhcnIgPSBhcnIuc2xpY2UoMCwgMTAwKTsKICAgICAgfSAvLyBjb25zb2xlLmxvZyhhcnIubGVuZ3RoKTsKCgogICAgICB2YXIgaWRzID0gIiI7CiAgICAgIGFyci5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgaWRzICs9IGl0ZW0uaWQgKyAiLCI7CiAgICAgIH0pOwogICAgICBpZHMgPSBpZHMuc3Vic3RyKDAsIGlkcy5sZW5ndGggLSAxKTsgLy8gY29uc29sZS5sb2coaWRzKTsKCiAgICAgIHRoaXMuZ2V0TXVzaWNEZXRhaWwoaWRzKTsKICAgIH0sCiAgICAvLyDliKTmlq3nlKjmiLfmmK/lkKbmlLbol4/kuobor6XmrYzljZUKICAgIGdldElzU3ViOiBmdW5jdGlvbiBnZXRJc1N1YigpIHsKICAgICAgdmFyIF90aGlzNyA9IHRoaXM7CgogICAgICB0aGlzLmlzU3ViID0gdGhpcy4kc3RvcmUuc3RhdGUuY29sbGVjdE11c2ljTGlzdC5maW5kKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgcmV0dXJuIGl0ZW0uaWQgPT0gX3RoaXM3LiRyb3V0ZS5wYXJhbXMuaWQ7CiAgICAgIH0pOwogICAgfSwKICAgIC8vIOWIpOaWreaYr+WQpuaYr+eUqOaIt+WIm+W7uueahOatjOWNlQogICAgZ2V0SXNDcmVhdGVkOiBmdW5jdGlvbiBnZXRJc0NyZWF0ZWQoKSB7CiAgICAgIHZhciBfdGhpczggPSB0aGlzOwoKICAgICAgdGhpcy5pc0NyZWF0ZWQgPSB0aGlzLiRzdG9yZS5zdGF0ZS5jcmVhdGVkTXVzaWNMaXN0LmZpbmQoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICByZXR1cm4gaXRlbS5pZCA9PSBfdGhpczguJHJvdXRlLnBhcmFtcy5pZDsKICAgICAgfSk7CiAgICB9LAogICAgLy8g54K55Ye75pS26JeP5oyJ6ZKu55qE5Zue6LCDCiAgICBjb2xsZWN0TGlzdDogZnVuY3Rpb24gY29sbGVjdExpc3QoKSB7CiAgICAgIHZhciBfdGhpczkgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTcoKSB7CiAgICAgICAgdmFyIHRpbWVzdGFtcDsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTckKF9jb250ZXh0NykgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDcucHJldiA9IF9jb250ZXh0Ny5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgaWYgKF90aGlzOS4kc3RvcmUuc3RhdGUuaXNMb2dpbikgewogICAgICAgICAgICAgICAgICBfY29udGV4dDcubmV4dCA9IDI7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDcuYWJydXB0KCJyZXR1cm4iKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgX3RoaXM5LmlzU3ViID0gIV90aGlzOS5pc1N1YjsgLy8g6K+35rGCCgogICAgICAgICAgICAgICAgdGltZXN0YW1wID0gRGF0ZS5wYXJzZShuZXcgRGF0ZSgpKTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Ny5uZXh0ID0gNjsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczkuJHJlcXVlc3QoIi9wbGF5bGlzdC9zdWJzY3JpYmUiLCB7CiAgICAgICAgICAgICAgICAgIGlkOiBfdGhpczkuJHJvdXRlLnBhcmFtcy5pZCwKICAgICAgICAgICAgICAgICAgdDogX3RoaXM5LmlzU3ViID8gMSA6IDIsCiAgICAgICAgICAgICAgICAgIHRpbWVzdGFtcDogdGltZXN0YW1wCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgICAgLy8g6K+35rGC5pS26JeP5q2M5Y2V5YiX6KGo5bm25L+d5a2Y6IezdnVleAogICAgICAgICAgICAgICAgX3RoaXM5LmdldFVzZXJNdXNpY0xpc3QoKTsKCiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ3LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU3KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgY2xpY2tDZWxsOiBmdW5jdGlvbiBjbGlja0NlbGwocm93LCBjb2x1bW4sIGNlbGwpIHsKICAgICAgdmFyIF90aGlzMTAgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTgoKSB7CiAgICAgICAgdmFyIHJlcywgdXJsLCBzZXJ2ZSwgcGFyYW1zLCBkb3dubG9hZE11c2ljSW5mbzsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTgkKF9jb250ZXh0OCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDgucHJldiA9IF9jb250ZXh0OC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgaWYgKCFjZWxsLnF1ZXJ5U2VsZWN0b3IoIi5pY29uLWRvd25sb2FkIikpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQ4Lm5leHQgPSAxOTsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgLy8g6K+35rGC6K+l5q2M5puy55qEdXJsCiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyb3cpOwogICAgICAgICAgICAgICAgX2NvbnRleHQ4Lm5leHQgPSA0OwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMTAuJHJlcXVlc3QoIi9zb25nL3VybCIsIHsKICAgICAgICAgICAgICAgICAgaWQ6IHJvdy5pZAogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICAgIHJlcyA9IF9jb250ZXh0OC5zZW50OwogICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzLmRhdGEuZGF0YVswXS51cmwpOwogICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzKTsKCiAgICAgICAgICAgICAgICBpZiAoIShyZXMuZGF0YS5kYXRhWzBdLnVybCA9PSBudWxsKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDgubmV4dCA9IDEwOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfdGhpczEwLiRtZXNzYWdlLndhcm5pbmcoIuaaguaXtuaXoOazleiOt+WPluivpei1hOa6kOWTpiEiKTsKCiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ4LmFicnVwdCgicmV0dXJuIik7CgogICAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgICAvLyDljLnphY3otYTmupDnmoTln5/lkI0KICAgICAgICAgICAgICAgIHVybCA9IHJlcy5kYXRhLmRhdGFbMF0udXJsLm1hdGNoKC9caHR0cC4qP1wubmV0Lyk7IC8vIOWMuemFjeWfn+WQjeWQjeensO+8jOW5tuWMuemFjeWvueW6lOeahOS7o+eQhgoKICAgICAgICAgICAgICAgIHNlcnZlID0gdXJsWzBdLm1hdGNoKC9odHRwOlwvKFxTKikubXVzaWMvKVsxXTsKCiAgICAgICAgICAgICAgICBpZiAoIShzZXJ2ZSAhPSAiL203IiAmJiBzZXJ2ZSAhPSAiL203MDEiICYmIHNlcnZlICE9ICIvbTgiICYmIHNlcnZlICE9ICIvbTgwMSIpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0OC5uZXh0ID0gMTU7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIC8vIOayoeacieWvueW6lOeahOS7o+eQhgogICAgICAgICAgICAgICAgX3RoaXMxMC4kbWVzc2FnZS5lcnJvcigi5Yy56YWN5LiN5Yiw5a+55bqU55qE5Luj55CGLOS4i+i9veWksei0pSEiKTsKCiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ4LmFicnVwdCgicmV0dXJuIik7CgogICAgICAgICAgICAgIGNhc2UgMTU6CiAgICAgICAgICAgICAgICAvLyDmiKrlj5blkI7pnaLnmoTlj4LmlbAKICAgICAgICAgICAgICAgIHBhcmFtcyA9IHJlcy5kYXRhLmRhdGFbMF0udXJsLnNsaWNlKHVybFswXS5sZW5ndGgpOyAvLyBjb25zb2xlLmxvZyh1cmxbMF0sIHNlcnZlLCBwYXJhbXMpOwoKICAgICAgICAgICAgICAgIGRvd25sb2FkTXVzaWNJbmZvID0gewogICAgICAgICAgICAgICAgICB1cmw6IHNlcnZlICsgcGFyYW1zLAogICAgICAgICAgICAgICAgICBuYW1lOiByb3cubmFtZSArICIgLSAiICsgcm93LmFyWzBdLm5hbWUgKyAiLiIgKyByZXMuZGF0YS5kYXRhWzBdLnR5cGUudG9Mb3dlckNhc2UoKQogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGRvd25sb2FkTXVzaWNJbmZvKTsKCiAgICAgICAgICAgICAgICBfdGhpczEwLiRzdG9yZS5jb21taXQoInVwZGF0ZURvd25sb2FkTXVzaWNJbmZvIiwgZG93bmxvYWRNdXNpY0luZm8pOwoKICAgICAgICAgICAgICBjYXNlIDE5OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ4LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU4KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgLy8g5pS26JeP6ICF5YiX6KGo6Kem5bqV55qE5Zue6LCDCiAgICBib3R0b21Mb2FkOiBmdW5jdGlvbiBib3R0b21Mb2FkKCkgewogICAgICB0aGlzLmZvbGxvd2Vkc0xpc3REYXRhLmN1cnJlbnRQYWdlICs9IDE7CiAgICAgIHRoaXMuZ2V0TXVzaWNMaXN0Rm9sbG93ZWRzKCk7CiAgICB9CiAgfSwKICBjb21wdXRlZDoge30sCiAgd2F0Y2g6IHsKICAgIC8vICIkc3RvcmUuc3RhdGUuY3VycmVudEluZGV4IihjdXJyZW50SW5kZXgsIGxhc3RJbmRleCkgewogICAgLy8gICAvLyDnm67liY3msqHku4DkuYjlpb3mgJ3ot68g55u05o6l5pON5L2c5Y6f55SfRE9NCiAgICAvLyAgIGNvbnNvbGUubG9nKGN1cnJlbnRJbmRleCwgbGFzdEluZGV4KTsKICAgIC8vICAgLy8gdGhpcy5oYW5kbGVUYWJsZURPTShjdXJyZW50SW5kZXgsIGxhc3RJbmRleCk7CiAgICAvLyB9LAogICAgIiRzdG9yZS5zdGF0ZS5tdXNpY0lkIjogZnVuY3Rpb24gJHN0b3JlU3RhdGVNdXNpY0lkKGN1cnJlbnQsIGxhc3QpIHsKICAgICAgdGhpcy5oYW5kbGVET00oY3VycmVudCwgbGFzdCk7CiAgICB9LAogICAgLy8g55uR5ZCsY3JlYXRlZE11c2ljTGlzdOeahOWPmOWMlgogICAgIiRzdG9yZS5zdGF0ZS5jcmVhdGVkTXVzaWNMaXN0IjogZnVuY3Rpb24gJHN0b3JlU3RhdGVDcmVhdGVkTXVzaWNMaXN0KGN1cnJlbnQsIGxhc3QpIHsKICAgICAgLy8g5aaC5p6c5Zyo5pS26JeP6aG16Z2i5Yi35paw77yM5pS26JeP5q2M5Y2V6L+Y5rKh6I635Y+W5Yiw77yM5L2G5piv5pS26JeP5oyJ6ZKu5bey57uP5riy5p+T5LqG77yM5omA5Lul5Zyo56ys5LiA5qyh6I635Y+W5Yiw5pWw5o2u5pe277yM5YaN5riy5p+T5LiA5qyhCiAgICAgIC8vIOWmguaenOaYr+WImuWIt+aWsO+8jGxhc3TliJnkuLrnqboKICAgICAgaWYgKGxhc3QubGVuZ3RoID09IDApIHsKICAgICAgICB0aGlzLmdldElzU3ViKCk7CiAgICAgIH0KICAgIH0KICB9LAogIGZpbHRlcnM6IHsKICAgIHNob3dEYXRlOiBmdW5jdGlvbiBzaG93RGF0ZSh2YWx1ZSkgewogICAgICAvLyAx44CB5YWI5bCG5pe26Ze05oiz6L2s5oiQRGF0ZeWvueixoQogICAgICB2YXIgZGF0ZSA9IG5ldyBEYXRlKHZhbHVlKTsgLy8gMuOAgeWwhmRhdGXov5vooYzmoLzlvI/ljJYKCiAgICAgIHJldHVybiBmb3JtYXREYXRlKGRhdGUsICJ5eXl5LU1NLWRkIik7CiAgICB9LAogICAgaGFuZGxlTnVtOiBoYW5kbGVOdW0KICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7fSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdmFyIF90aGlzMTEgPSB0aGlzOwoKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU5KCkgewogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTkkKF9jb250ZXh0OSkgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0OS5wcmV2ID0gX2NvbnRleHQ5Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIGlmIChfdGhpczExLiRzdG9yZS5zdGF0ZS5pc0xvZ2luKSB7CiAgICAgICAgICAgICAgICAvLyDlhYjliKTmlq3mmK/lkKbmmK/nlKjmiLfliJvlu7rnmoTmrYzljZUKICAgICAgICAgICAgICAgIF90aGlzMTEuZ2V0SXNDcmVhdGVkKCk7IC8vIOWmguaenOS4jeaYryDlho3liKTmlq3mmK/lkKbmmK/mlLbol4/nmoTmrYzljZUKCgogICAgICAgICAgICAgICAgaWYgKCFfdGhpczExLmlzQ3JlYXRlZCkgewogICAgICAgICAgICAgICAgICBfdGhpczExLmdldElzU3ViKCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBfY29udGV4dDkubmV4dCA9IDM7CiAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMTEuZ2V0TXVzaWNMaXN0RGV0YWlsKCk7CgogICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgX3RoaXMxMS4kbmV4dFRpY2soZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgLy8g5Yik5pat5piv5ZCm5ZKM5LiK5LiA5qyh5omT5byA55qE5q2M5Y2V55u45ZCMCiAgICAgICAgICAgICAgICBpZiAoX3RoaXMxMS4kcm91dGUucGFyYW1zLmlkID09IF90aGlzMTEuJHN0b3JlLnN0YXRlLm11c2ljTGlzdElkKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMTEuaGFuZGxlRE9NKF90aGlzMTEuJHN0b3JlLnN0YXRlLm11c2ljSWQpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDkuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZTkpOwogICAgfSkpKCk7CiAgfQp9Ow=="},{"version":3,"sources":["MusicListDetail.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"musicListDetail\" v-if=\"musicListDetail\">\n    <!-- 歌单信息 -->\n    <div class=\"listInfo\">\n      <!-- 歌单封面 -->\n      <div class=\"listAvatar\">\n        <img :src=\"musicListDetail.coverImgUrl\" alt=\"\" />\n      </div>\n      <div class=\"right\">\n        <!-- 标题 -->\n        <div class=\"title\">\n          <div class=\"titleTag\">歌单</div>\n          <div class=\"titleContent\">{{ musicListDetail.name }}</div>\n        </div>\n        <!-- 用户信息 -->\n        <div class=\"user\">\n          <div class=\"userAvatar\">\n            <img :src=\"musicListDetail.creator.avatarUrl\" alt=\"\" />\n          </div>\n          <div\n            class=\"userName\"\n            @click=\"\n              $router.push({\n                name: 'personal',\n                params: { uid: musicListDetail.creator.userId },\n              })\n            \"\n          >\n            {{ musicListDetail.creator.nickname }}\n          </div>\n          <div class=\"createTime\">\n            {{ musicListDetail.createTime | showDate }}创建\n          </div>\n        </div>\n        <!-- 操作按钮 -->\n        <div class=\"buttons\">\n          <div class=\"buttonItem playAll\" @click=\"playAll\">\n            <i class=\"iconfont icon-bofang playAll\"></i>\n            <span>播放全部</span>\n          </div>\n          <div class=\"buttonItem\" v-if=\"!isCreated\" @click=\"collectList\">\n            <i class=\"iconfont icon-xihuan\" :class=\"isSub ? 'red' : ''\"></i>\n            <span>{{ isSub ? \"已收藏\" : \"收藏\" }}</span>\n          </div>\n          <div class=\"buttonItem\">\n            <i class=\"iconfont icon-zhuanfa\"></i>\n            <span>分享</span>\n          </div>\n        </div>\n        <!-- 标签 -->\n        <div class=\"tags\">\n          标签：\n          <div\n            class=\"tagItem\"\n            v-for=\"(item, index) in musicListDetail.tags\"\n            :key=\"index\"\n          >\n            {{ item }}\n          </div>\n          <div v-if=\"musicListDetail.tags.length == 0\">暂无标签</div>\n        </div>\n        <!-- 歌曲列表的歌曲数量和播放量 -->\n        <div class=\"otherInfo\">\n          <div class=\"musicNum\">\n            歌曲 : {{ musicListDetail.trackCount | handleNum }}\n          </div>\n          <div class=\"playCount\">\n            播放 : {{ musicListDetail.playCount | handleNum }}\n          </div>\n        </div>\n        <div class=\"desc\">\n          简介 :\n          {{\n            musicListDetail.description\n              ? musicListDetail.description\n              : \"暂无简介\"\n          }}\n        </div>\n      </div>\n    </div>\n    <!-- 歌曲列表 -->\n    <div class=\"musicList\">\n      <el-tabs value=\"first\" @tab-click=\"clickTab\">\n        <el-tab-pane label=\"歌曲列表\" name=\"first\">\n          <!-- 表格 -->\n          <el-table\n            :data=\"musicListDetail.tracks\"\n            size=\"mini\"\n            style=\"width: 100%\"\n            @row-dblclick=\"clickRow\"\n            @cell-click=\"clickCell\"\n            highlight-current-row\n            stripe\n            lazy\n            :row-key=\"\n              (row) => {\n                return row.id;\n              }\n            \"\n            v-infinite-scroll=\"this.$store.state.isLogin ? loadMore : ''\"\n            :infinite-scroll-disabled=\"scrollLoadDisabled\"\n            :infinite-scroll-distance=\"1500\"\n            :infinite-scroll-immediate=\"false\"\n          >\n            <el-table-column\n              label=\"\"\n              width=\"40\"\n              type=\"index\"\n              :index=\"handleIndex\"\n            >\n            </el-table-column>\n            <el-table-column label=\"\" width=\"23\">\n              <!-- 下载按钮 -->\n              <i class=\"iconfont icon-download\"></i>\n            </el-table-column>\n            <el-table-column prop=\"name\" label=\"音乐标题\" min-width=\"350\">\n            </el-table-column>\n            <el-table-column prop=\"ar[0].name\" label=\"歌手\" min-width=\"120\">\n            </el-table-column>\n            <el-table-column prop=\"al.name\" label=\"专辑\" min-width=\"170\">\n            </el-table-column>\n            <el-table-column prop=\"dt\" label=\"时长\" min-width=\"100\">\n            </el-table-column>\n            <!-- <el-table-column prop=\"id\"></el-table-column> -->\n          </el-table>\n          <div class=\"loadMore\" v-if=\"isMore && !this.$store.state.isLogin\">\n            登陆后查看更多音乐\n          </div>\n          <div class=\"placeholder\" v-else></div>\n          <!-- <div class=\"placeholder\"></div> -->\n        </el-tab-pane>\n        <el-tab-pane label=\"评论\" name=\"second\">\n          <div\n            class=\"commentList\"\n            v-if=\"comments.comments\"\n            v-loading=\"isCommentLoading\"\n          >\n            <!-- 精彩评论 -->\n            <comment\n              :commentType=\"'musicList'\"\n              :comments=\"comments.hotComments\"\n              :commentId=\"musicListDetail.id + ''\"\n              @getComment=\"getMusicListComment\"\n              @scrollToComment=\"scrollToComment\"\n              v-if=\"comments.hotComments\"\n              ref=\"hotComments\"\n              ><div slot=\"title\">精彩评论</div></comment\n            >\n            <!-- 最新评论 -->\n            <comment\n              :comments=\"comments.comments\"\n              :commentType=\"'musicList'\"\n              :commentId=\"musicListDetail.id + ''\"\n              :isHotComment=\"comments.hotComments ? false : true\"\n              @getComment=\"getMusicListComment\"\n              @scrollToComment=\"scrollToComment\"\n              @transToHotComment=\"\n                (info) =>\n                  $refs.hotComments.floorComment(info.commentId, info.nickName)\n              \"\n              ><div slot=\"title\">热门评论</div></comment\n            >\n          </div>\n          <!-- 分页 -->\n          <div\n            class=\"page\"\n            v-show=\"comments.comments && comments.comments.length != 0\"\n          >\n            <el-pagination\n              background\n              layout=\"prev, pager, next\"\n              :total=\"comments.total\"\n              small\n              :page-size=\"50\"\n              :current-page=\"currentCommentPage\"\n              @current-change=\"commentPageChange\"\n            >\n            </el-pagination>\n          </div>\n        </el-tab-pane>\n        <el-tab-pane label=\"收藏者\" name=\"third\">\n          <user-list-card\n            userType=\"musicListDetailPage\"\n            :userList=\"followedsListData.followedsList\"\n            :isLoad=\"followedsListData.isMore\"\n            @bottomLoad=\"bottomLoad\"\n          ></user-list-card>\n          <div\n            class=\"tips\"\n            v-if=\"\n              followedsListData.followedsList.length == 0 &&\n              followedsListData.isLoaded == true\n            \"\n          >\n            暂无收藏者\n          </div>\n        </el-tab-pane>\n      </el-tabs>\n    </div>\n\n    <!-- 返回顶部组件 -->\n    <go-top scrollObj=\".musicListDetail\"></go-top>\n  </div>\n</template>\n\n<script>\nimport { formatDate, handleNum, handleMusicTime } from \"plugins/utils\";\nimport Comment from \"components/comment/Comment\";\nimport GoTop from \"components/goTop/GoTop.vue\";\nimport UserListCard from \"components/userListCard/UserListCard.vue\";\n\nexport default {\n  name: \"MusicListDetail\",\n  data() {\n    return {\n      musicListDetail: null,\n      comments: {},\n      // 当前评论页数\n      currentCommentPage: 1,\n      // 是否还有更多音乐\n      isMore: false,\n      // 用户是否收藏了当前歌单\n      isSub: false,\n      // 是否是用户创建的歌单\n      isCreated: false,\n      // 评论是否在加载\n      isCommentLoading: false,\n      // 是否禁止滚动加载\n      scrollLoadDisabled: false,\n      // 收藏者列表的变量\n      followedsListData: {\n        // 当前页数\n        currentPage: 1,\n        // 列表\n        followedsList: [],\n        // 是否还有更多\n        isMore: false,\n        // 是否已经加载过列表数据 （用于点击收藏者tab后第一次加载数据）\n        isLoaded: false,\n      },\n    };\n  },\n  components: {\n    Comment,\n    GoTop,\n    UserListCard,\n  },\n  methods: {\n    // 请求\n    // 根据传来的 id 查询歌单\n    async getMusicListDetail() {\n      var timestamp = Date.parse(new Date());\n      // console.log(this.$route.params.id);\n      let result = await this.$request(\"/playlist/detail\", {\n        id: this.$route.params.id,\n        timestamp,\n      });\n      // console.log(result);\n      this.musicListDetail = result.data.playlist;\n      // console.log(this.musicListDetail);\n      // 判断是否还有更多音乐\n      if (\n        this.musicListDetail.tracks.length !=\n        this.musicListDetail.trackIds.length\n      ) {\n        this.isMore = true;\n      }\n      // 处理播放时间\n      this.musicListDetail.tracks.forEach((item, index) => {\n        this.musicListDetail.tracks[index].dt = handleMusicTime(item.dt);\n      });\n      // 判断用户是否喜欢该音乐\n      // 直接两个循环性能损耗太厉害了 没什么思路暂时不做先\n      // let likeMusicList = this.$store.state.likeMusicList;\n    },\n    // 获取歌单评论\n    async getMusicListComment(type) {\n      // 获取时间戳\n      var timestamp = Date.parse(new Date());\n      this.isCommentLoading = true;\n\n      if (type == \"changePage\") {\n        this.scrollToComment();\n      }\n      let res = await this.$request(\"/comment/playlist\", {\n        id: this.$route.params.id,\n        offset: (this.currentCommentPage - 1) * 50,\n        limit: 50,\n        timestamp,\n      });\n      console.log(res);\n      if (res.data.code !== 200) {\n        this.$message.error(\"获取评论失败,请稍后重试!\");\n      }\n      this.comments = res.data;\n      this.isCommentLoading = false;\n      console.log(\"重新歌单获取评论\");\n    },\n\n    scrollToComment() {\n      let musicListDetail = document.querySelector(\".musicListDetail\");\n      let listInfo = document.querySelector(\".listInfo\");\n      // console.log(\"执行了这里 滚动到精彩评论\", [listInfo]);\n      musicListDetail.scrollTo({\n        behavior: \"smooth\",\n        top: listInfo.clientHeight - 20,\n      });\n    },\n\n    // 获取歌曲详情\n    async getMusicDetail(ids) {\n      if (this.isMore == false) return;\n      this.scrollLoadDisabled = true;\n\n      let res = await this.$request(\"/song/detail\", { ids });\n      // 处理时间\n      console.log(res);\n      res.data.songs.forEach((item, index) => {\n        res.data.songs[index].dt = handleMusicTime(item.dt);\n      });\n      this.musicListDetail.tracks.push(...res.data.songs);\n      // 判断是否还有更多音乐\n      if (\n        this.musicListDetail.tracks.length <\n        this.musicListDetail.trackIds.length\n      ) {\n        this.isMore = true;\n        this.scrollLoadDisabled = false;\n      } else {\n        this.isMore = false;\n      }\n    },\n\n    // 请求用户歌单\n    async getUserMusicList() {\n      let timestamp = Date.parse(new Date());\n      // 先从localStorage里面读取用户信息  如果登录成功是有存的\n      this.userInfo =\n        window.localStorage.getItem(\"userInfo\") &&\n        JSON.parse(window.localStorage.getItem(\"userInfo\"));\n      let res = await this.$request(\"/user/playlist\", {\n        uid: this.userInfo.userId,\n        timestamp,\n      });\n      res = res.data.playlist;\n      let index = res.findIndex((item) => item.subscribed == true);\n      this.collectedMusicList = res.slice(index);\n      // 将收藏的歌单上传至vuex\n      this.$store.commit(\"updateCollectMusicList\", this.collectedMusicList);\n    },\n\n    // 获取歌单收藏者\n    async getMusicListFolloweds() {\n      let res = await this.$request(\"/playlist/subscribers\", {\n        id: this.$route.params.id,\n        offset: (this.followedsListData.currentPage - 1) * 20,\n      });\n      console.log(res);\n      this.followedsListData.isMore = res.data.more;\n      this.followedsListData.followedsList.push(...res.data.subscribers);\n    },\n\n    // 事件函数\n    handleIndex(index) {\n      // console.log(index);\n      index += 1;\n      if (index < 10) {\n        return \"0\" + index;\n      } else {\n        return index;\n      }\n    },\n    // 双击table的row的回调\n    async clickRow(row) {\n      console.log(row);\n      // 将musicId提交到vuex中 供bottomControl查询歌曲url和其它操作\n      this.$store.commit(\"updateMusicId\", row.id);\n      // 如果歌单发生变化,则提交歌单到vuex\n      if (this.musicListDetail.id != this.$store.state.musicListId) {\n        // 将歌单传到vuex\n        this.$store.commit(\"updateMusicList\", {\n          musicList: this.musicListDetail.tracks,\n          musicListId: this.musicListDetail.id,\n        });\n      }\n\n      // let result = await this.$request(\"/song/url\", { id: row.id, br: 320000 });\n      // console.log(result.data.data[0].url);\n      // this.$store.commit(\"updateMusicUrl\", result.data.data[0].url);\n    },\n    // 点击播放全部按钮的回调\n    playAll() {\n      this.$store.commit(\"updateMusicId\", this.musicListDetail.tracks[0].id);\n      this.$store.commit(\"updateMusicList\", {\n        musicList: this.musicListDetail.tracks,\n        musicListId: this.musicListDetail.id,\n      });\n    },\n    // 评论点击翻页的回调\n    commentPageChange(page) {\n      this.currentCommentPage = page;\n      this.getMusicListComment(\"changePage\");\n    },\n\n    handleDOM(current, last) {\n      if (document.querySelector(\".musicListDetail\")) {\n        let tableRows = document\n          .querySelector(\".musicListDetail\")\n          .querySelectorAll(\".el-table__row\");\n        // 遍历当前musicList 找到当前播放的index的行进行渲染\n        // console.log(tableRows);\n        let index = this.musicListDetail.tracks.findIndex(\n          (item) => item.id == current\n        );\n        // console.log(index);\n        if (index != -1) {\n          // 直接修改dom样式的颜色无效  可能是因为第三方组件的原故\n          // 通过引入全局样式解决\n          // 将正在播放的音乐前面的索引换成小喇叭\n          tableRows[index].children[0].querySelector(\n            \".cell\"\n          ).innerHTML = `<div><i class=\"iconfont icon-yinliang\"></i></div>`;\n          tableRows[index].children[0]\n            .querySelector(\".iconfont\")\n            .classList.add(\"currentRow\");\n          tableRows[index].children[2]\n            .querySelector(\".cell\")\n            .classList.add(\"currentRow\");\n        }\n        // 清除上一首的样式\n        if (last != -1) {\n          let lastIndex = this.musicListDetail.tracks.findIndex(\n            (item) => item.id == last\n          );\n          if (lastIndex != -1) {\n            // 将上一个播放的dom的小喇叭换回索引\n            tableRows[lastIndex].children[0].querySelector(\n              \".cell\"\n            ).innerHTML = `<div>${\n              lastIndex + 1 < 10 ? \"0\" + (lastIndex + 1) : lastIndex + 1\n            }</div>`;\n\n            // 将上一首的类名删掉  小喇叭的html已经被替换了，不需要再还原\n            tableRows[lastIndex].children[2]\n              .querySelector(\".cell\")\n              .classList.remove(\"currentRow\");\n          }\n        }\n      }\n    },\n    // 点击el-tab-pane的回调\n    clickTab(e) {\n      console.log(e.index);\n      if (e.index == 1 && !this.comments.comments) {\n        this.getMusicListComment();\n      } else if (e.index == 2 && !this.followedsListData.isLoaded) {\n        this.getMusicListFolloweds();\n        this.followedsListData.isLoaded = true;\n      }\n    },\n    // 点击加载所有音乐的回调\n    loadMore() {\n      if (!this.$store.state.isLogin) {\n        this.$message.error(\"请先进行登录操作!\");\n        return;\n      }\n      // console.log(\"加载所有音乐\");\n      // this.isMore = false;\n\n      let arr = this.musicListDetail.trackIds.slice(\n        this.musicListDetail.tracks.length\n      );\n      if (arr.length > 100) {\n        arr = arr.slice(0, 100);\n      }\n      // console.log(arr.length);\n      let ids = \"\";\n      arr.forEach((item) => {\n        ids += item.id + \",\";\n      });\n      ids = ids.substr(0, ids.length - 1);\n      // console.log(ids);\n      this.getMusicDetail(ids);\n    },\n    // 判断用户是否收藏了该歌单\n    getIsSub() {\n      this.isSub = this.$store.state.collectMusicList.find(\n        (item) => item.id == this.$route.params.id\n      );\n    },\n    // 判断是否是用户创建的歌单\n    getIsCreated() {\n      this.isCreated = this.$store.state.createdMusicList.find(\n        (item) => item.id == this.$route.params.id\n      );\n    },\n    // 点击收藏按钮的回调\n    async collectList() {\n      if (!this.$store.state.isLogin) {\n        // this.$message.error(\"请先进行登录操作!\");\n        return;\n      }\n      this.isSub = !this.isSub;\n      // 请求\n      let timestamp = Date.parse(new Date());\n      await this.$request(\"/playlist/subscribe\", {\n        id: this.$route.params.id,\n        t: this.isSub ? 1 : 2,\n        timestamp,\n      });\n      // 请求收藏歌单列表并保存至vuex\n      this.getUserMusicList();\n    },\n\n    async clickCell(row, column, cell) {\n      // 判断点击的是下载按钮\n      if (cell.querySelector(\".icon-download\")) {\n        // 请求该歌曲的url\n        console.log(row);\n        let res = await this.$request(\"/song/url\", { id: row.id });\n        console.log(res.data.data[0].url);\n        console.log(res);\n        if (res.data.data[0].url == null) {\n          this.$message.warning(\"暂时无法获取该资源哦!\");\n          return;\n        }\n\n        // 匹配资源的域名\n        let url = res.data.data[0].url.match(/\\http.*?\\.net/);\n        // 匹配域名名称，并匹配对应的代理\n        let serve = url[0].match(/http:\\/(\\S*).music/)[1];\n        if (\n          serve != \"/m7\" &&\n          serve != \"/m701\" &&\n          serve != \"/m8\" &&\n          serve != \"/m801\"\n        ) {\n          // 没有对应的代理\n          this.$message.error(\"匹配不到对应的代理,下载失败!\");\n          return;\n        }\n        // 截取后面的参数\n        let params = res.data.data[0].url.slice(url[0].length);\n        // console.log(url[0], serve, params);\n\n        let downloadMusicInfo = {\n          url: serve + params,\n          name:\n            row.name +\n            \" - \" +\n            row.ar[0].name +\n            \".\" +\n            res.data.data[0].type.toLowerCase(),\n        };\n        console.log(downloadMusicInfo);\n        this.$store.commit(\"updateDownloadMusicInfo\", downloadMusicInfo);\n      }\n    },\n\n    // 收藏者列表触底的回调\n    bottomLoad() {\n      this.followedsListData.currentPage += 1;\n      this.getMusicListFolloweds();\n    },\n  },\n  computed: {},\n  watch: {\n    // \"$store.state.currentIndex\"(currentIndex, lastIndex) {\n    //   // 目前没什么好思路 直接操作原生DOM\n    //   console.log(currentIndex, lastIndex);\n    //   // this.handleTableDOM(currentIndex, lastIndex);\n    // },\n    \"$store.state.musicId\"(current, last) {\n      this.handleDOM(current, last);\n    },\n    // 监听createdMusicList的变化\n    \"$store.state.createdMusicList\"(current, last) {\n      // 如果在收藏页面刷新，收藏歌单还没获取到，但是收藏按钮已经渲染了，所以在第一次获取到数据时，再渲染一次\n      // 如果是刚刷新，last则为空\n      if (last.length == 0) {\n        this.getIsSub();\n      }\n    },\n  },\n  filters: {\n    showDate(value) {\n      // 1、先将时间戳转成Date对象\n      const date = new Date(value);\n\n      // 2、将date进行格式化\n      return formatDate(date, \"yyyy-MM-dd\");\n    },\n    handleNum,\n  },\n  created() {},\n  async mounted() {\n    if (this.$store.state.isLogin) {\n      // 先判断是否是用户创建的歌单\n      this.getIsCreated();\n      // 如果不是 再判断是否是收藏的歌单\n      if (!this.isCreated) {\n        this.getIsSub();\n      }\n    }\n    await this.getMusicListDetail();\n    this.$nextTick(() => {\n      // 判断是否和上一次打开的歌单相同\n      if (this.$route.params.id == this.$store.state.musicListId) {\n        this.handleDOM(this.$store.state.musicId);\n      }\n    });\n  },\n};\n</script>\n\n<style scoped>\n.musicListDetail {\n  overflow-y: scroll;\n}\n\n.listInfo {\n  display: flex;\n  padding: 25px 15px;\n  align-items: center;\n}\n\n.listAvatar {\n  width: 150px;\n  height: 150px;\n  overflow: hidden;\n  border-radius: 10px;\n  margin-right: 15px;\n  position: relative;\n}\n\n.listAvatar::after {\n  content: \"\";\n  position: absolute;\n  height: 100%;\n  width: 100%;\n  left: 0;\n  top: 0;\n  background: url(\"~assets/img/imgLoading.png\") no-repeat;\n  background-size: contain;\n  z-index: -1;\n}\n\n.listAvatar img {\n  width: 100%;\n}\n\n.right {\n  width: calc(100% - 200px);\n}\n\n.title {\n  display: flex;\n  align-items: center;\n}\n\n.titleTag {\n  font-size: 12px;\n  color: #ec4141;\n  border: 1px solid #ec4141;\n  padding: 1px 2px;\n  border-radius: 2px;\n  margin-right: 5px;\n  transform: scale(0.8);\n}\n\n.titleContent {\n  font-size: 20px;\n  font-weight: 600;\n  color: #373737;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  width: 90%;\n}\n\n.user {\n  display: flex;\n  align-items: center;\n  margin-top: 8px;\n  font-size: 12px;\n}\n\n.userAvatar {\n  height: 25px;\n  width: 25px;\n  margin-right: 8px;\n}\n\n.userAvatar img {\n  width: 100%;\n  border-radius: 50%;\n}\n\n.userName {\n  color: #6191c2;\n  margin-right: 8px;\n  cursor: pointer;\n}\n\n.createTime {\n  transform: scale(0.9);\n}\n\n.buttons {\n  margin: 8px 0 0 -5px;\n  display: flex;\n}\n\n.buttonItem {\n  font-size: 12px;\n  padding: 8px 15px;\n  border: 1px solid #ddd;\n  border-radius: 20px;\n  transform: scale(0.9);\n}\n\n.buttonItem i {\n  font-size: 12px;\n  margin-right: 3px;\n  transform: scale(0.9);\n}\n\n.playAll {\n  background-color: #ec4141;\n  color: white;\n}\n\n.tags {\n  margin: 8px 0 0 -30px;\n  display: flex;\n  font-size: 12px;\n  transform: scale(0.9);\n}\n\n.tagItem {\n  color: #6191c2;\n  margin-right: 5px;\n}\n\n.otherInfo {\n  margin: 5px 0 0 -30px;\n  display: flex;\n  font-size: 12px;\n  transform: scale(0.9);\n}\n\n.musicNum {\n  margin-right: 13px;\n}\n\n.desc {\n  margin: 5px 0 0 -30px;\n  font-size: 12px;\n  transform: scale(0.9);\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n\n.musicList {\n  margin: -15px 15px 0;\n}\n\n.page {\n  width: 100%;\n  text-align: center;\n  padding-bottom: 20px;\n}\n\n.placeholder {\n  width: 100%;\n  height: 50px;\n}\n\n.loadMore {\n  width: 100%;\n  height: 50px;\n  font-size: 12px;\n  color: #aaa;\n  text-align: center;\n  line-height: 50px;\n  transform: scale(0.9);\n}\n\n.red {\n  color: #ec4141;\n}\n\n.commentList /deep/ .el-loading-spinner {\n  top: 40px;\n}\n\n.tips {\n  font-size: 14px;\n  margin: 30px 0;\n  text-align: center;\n}\n</style>"],"sourceRoot":"src/views/musicListDetail"}]}