{"remainingRequest":"D:\\vue_cloud_music-master\\light-webplayer\\node_modules\\babel-loader\\lib\\index.js!D:\\vue_cloud_music-master\\light-webplayer\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\vue_cloud_music-master\\light-webplayer\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\vue_cloud_music-master\\light-webplayer\\src\\components\\Index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\vue_cloud_music-master\\light-webplayer\\src\\components\\Index.vue","mtime":1636482270761},{"path":"D:\\vue_cloud_music-master\\light-webplayer\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1636408355875},{"path":"D:\\vue_cloud_music-master\\light-webplayer\\node_modules\\babel-loader\\lib\\index.js","mtime":1636408357214},{"path":"D:\\vue_cloud_music-master\\light-webplayer\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1636408355875},{"path":"D:\\vue_cloud_music-master\\light-webplayer\\node_modules\\vue-loader\\lib\\index.js","mtime":1636408357599}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkQ6L3Z1ZV9jbG91ZF9tdXNpYy1tYXN0ZXIvbGlnaHQtd2VicGxheWVyL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5zZWFyY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc3BsaXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maW5kLWluZGV4LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc2xpY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIudXJsLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKaW1wb3J0IEJvdHRvbUNvbnRyb2wgZnJvbSAiY29tcG9uZW50cy9ib3R0b21Db250cm9sL0JvdHRvbUNvbnRyb2wiOwppbXBvcnQgSGVhZGVyQmFyIGZyb20gImNvbXBvbmVudHMvaGVhZGVyQmFyL0hlYWRlckJhci52dWUiOwppbXBvcnQgTXVzaWNEZXRhaWxDYXJkIGZyb20gInZpZXdzL211c2ljRGV0YWlsQ2FyZC9NdXNpY0RldGFpbENhcmQudnVlIjsKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIEJvdHRvbUNvbnRyb2w6IEJvdHRvbUNvbnRyb2wsCiAgICBIZWFkZXJCYXI6IEhlYWRlckJhciwKICAgIE11c2ljRGV0YWlsQ2FyZDogTXVzaWNEZXRhaWxDYXJkCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZGVmYXVsdEFjdGl2ZTogIiIsCiAgICAgIC8vIOeUqOaIt+S/oeaBrwogICAgICAvLyB1c2VySW5mbzoge30sCiAgICAgIC8vIOWIm+W7uueahOatjOWNlQogICAgICBjcmVhdGVkTXVzaWNMaXN0OiBbXSwKICAgICAgLy8g5pS26JeP55qE5q2M5Y2VCiAgICAgIGNvbGxlY3RlZE11c2ljTGlzdDogW10sCiAgICAgIC8vIOS4i+i9veeahOmfs+S5kOeahOS/oeaBrwogICAgICBkb3dubG9hZE11c2ljSW5mbzogewogICAgICAgIG5hbWU6ICIiLAogICAgICAgIHVybDogIiIKICAgICAgfQogICAgfTsKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICBpZiAodGhpcy4kcm91dGUucGF0aC5zZWFyY2goIi9tdXNpY2xpc3RkZXRhaWwiKSA9PSAtMSkgewogICAgICB0aGlzLmRlZmF1bHRBY3RpdmUgPSAiLyIgKyB0aGlzLiRyb3V0ZS5wYXRoLnNwbGl0KCIvIilbMV07CiAgICB9IGVsc2UgewogICAgICB0aGlzLmRlZmF1bHRBY3RpdmUgPSB0aGlzLiRyb3V0ZS5wYXRoOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgLy8g6K+35rGCCiAgICAvLyDor7fmsYLnlKjmiLfmrYzljZUKICAgIGdldFVzZXJNdXNpY0xpc3Q6IGZ1bmN0aW9uIGdldFVzZXJNdXNpY0xpc3QoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciB0aW1lc3RhbXAsIHJlcywgaW5kZXg7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgaWYgKF90aGlzLiRzdG9yZS5zdGF0ZS5pc0xvZ2luKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAvLyDor7TmmI7lt7Lnu4/pgIDlh7rnmbvlvZUKICAgICAgICAgICAgICAgIF90aGlzLiRtZXNzYWdlLmVycm9yKCLor7flhYjov5vooYznmbvlvZXmk43kvZwiKTsKCiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgdGltZXN0YW1wID0gRGF0ZS5wYXJzZShuZXcgRGF0ZSgpKTsgLy8g5YWI5LuObG9jYWxTdG9yYWdl6YeM6Z2i6K+75Y+W55So5oi35L+h5oGvICDlpoLmnpznmbvlvZXmiJDlip/mmK/mnInlrZjnmoQKICAgICAgICAgICAgICAgIC8vIHRoaXMudXNlckluZm8gPQogICAgICAgICAgICAgICAgLy8gICB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oInVzZXJJbmZvIikgJiYKICAgICAgICAgICAgICAgIC8vICAgSlNPTi5wYXJzZSh3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oInVzZXJJbmZvIikpOwoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA2OwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLiRyZXF1ZXN0KCIvdXNlci9wbGF5bGlzdCIsIHsKICAgICAgICAgICAgICAgICAgdWlkOiB3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oInVzZXJJZCIpLAogICAgICAgICAgICAgICAgICB0aW1lc3RhbXA6IHRpbWVzdGFtcAogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICAgIHJlcyA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhyZXMpOwogICAgICAgICAgICAgICAgLy8g5a+55pWw5o2u6L+b6KGM5aSE55CG5YiG57G7CiAgICAgICAgICAgICAgICByZXMgPSByZXMuZGF0YS5wbGF5bGlzdDsKICAgICAgICAgICAgICAgIGluZGV4ID0gcmVzLmZpbmRJbmRleChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgICAgICAgICByZXR1cm4gaXRlbS5zdWJzY3JpYmVkID09IHRydWU7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIF90aGlzLmNyZWF0ZWRNdXNpY0xpc3QgPSByZXMuc2xpY2UoMCwgaW5kZXgpOwogICAgICAgICAgICAgICAgX3RoaXMuY29sbGVjdGVkTXVzaWNMaXN0ID0gcmVzLnNsaWNlKGluZGV4KTsKICAgICAgICAgICAgICAgIF90aGlzLmNyZWF0ZWRNdXNpY0xpc3RbMF0ubmFtZSA9ICLmiJHllpzmrKLnmoTpn7PkuZAiOyAvLyBjb25zb2xlLmxvZyh0aGlzLmNyZWF0ZWRNdXNpY0xpc3QsIHRoaXMuY29sbGVjdGVkTXVzaWNMaXN0KTsKICAgICAgICAgICAgICAgIC8vIOWwhuaUtuiXj+eahOatjOWNleS4iuS8oOiHs3Z1ZXgKCiAgICAgICAgICAgICAgICBfdGhpcy4kc3RvcmUuY29tbWl0KCJ1cGRhdGVDb2xsZWN0TXVzaWNMaXN0IiwgX3RoaXMuY29sbGVjdGVkTXVzaWNMaXN0KTsgLy8g5bCG5Yib5bu655qE5q2M5Y2V5LiK5Lyg6IezdnVleAoKCiAgICAgICAgICAgICAgICBfdGhpcy4kc3RvcmUuY29tbWl0KCJ1cGRhdGVDcmVhdGVkTXVzaWNMaXN0IiwgX3RoaXMuY3JlYXRlZE11c2ljTGlzdCk7CgogICAgICAgICAgICAgIGNhc2UgMTQ6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9CiAgfSwKICB3YXRjaDogewogICAgLy8g55uR5ZCs5pS26JeP5q2M5Y2V55qE5Y+Y5YyWCiAgICAiJHN0b3JlLnN0YXRlLmNvbGxlY3RNdXNpY0xpc3QiOiBmdW5jdGlvbiAkc3RvcmVTdGF0ZUNvbGxlY3RNdXNpY0xpc3QoY3VycmVudCkgewogICAgICB0aGlzLmNvbGxlY3RlZE11c2ljTGlzdCA9IGN1cnJlbnQ7CiAgICB9LAogICAgIiRyb3V0ZS5wYXRoIjogZnVuY3Rpb24gJHJvdXRlUGF0aChjdXJyZW50KSB7CiAgICAgIC8vIOWPlui3r+eUseS4reeahOmmluWcsOWdgCDnlKjkuo7kvqfovrnmoI/nmoTlr7zoiKphY3RpdmUKICAgICAgaWYgKGN1cnJlbnQuc2VhcmNoKCIvbXVzaWNsaXN0ZGV0YWlsIikgPT0gLTEpIHsKICAgICAgICB0aGlzLmRlZmF1bHRBY3RpdmUgPSAiLyIgKyBjdXJyZW50LnNwbGl0KCIvIilbMV07CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5kZWZhdWx0QWN0aXZlID0gY3VycmVudDsKICAgICAgfQogICAgfSwKICAgIC8vIOebkeWQrOW9k+WJjeS4i+i9vemfs+S5kOS/oeaBrwogICAgIiRzdG9yZS5zdGF0ZS5kb3dubG9hZE11c2ljSW5mbyI6IGZ1bmN0aW9uICRzdG9yZVN0YXRlRG93bmxvYWRNdXNpY0luZm8oY3VycmVudCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIGF4aW9zLmdldChjdXJyZW50LnVybCwgewogICAgICAgIHJlc3BvbnNlVHlwZTogImJsb2IiCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIHZhciBibG9iID0gcmVzLmRhdGE7CiAgICAgICAgdmFyIHVybCA9IFVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYik7IC8vIGNvbnNvbGUubG9nKHVybCk7CgogICAgICAgIHZhciBhID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiI2Rvd25sb2FkQ3VycmVudE11c2ljIik7CiAgICAgICAgX3RoaXMyLmRvd25sb2FkTXVzaWNJbmZvLnVybCA9IHVybDsKICAgICAgICBfdGhpczIuZG93bmxvYWRNdXNpY0luZm8ubmFtZSA9IGN1cnJlbnQubmFtZTsKCiAgICAgICAgX3RoaXMyLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgICBhLmNsaWNrKCk7IC8vIOeUqOWujOmHiuaUvlVSTOWvueixoQoKICAgICAgICAgIFVSTC5yZXZva2VPYmplY3RVUkwodXJsKTsKICAgICAgICB9KTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgIGNvbnNvbGUubG9nKGVycik7CgogICAgICAgIF90aGlzMi4kbWVzc2FnZS5lcnJvcigi5LiL6L295aSx6LSlLOivt+eojeWQjumHjeivlSEiKTsKICAgICAgfSk7CiAgICB9LAogICAgLy8g55uR5ZCsdnVleOS4reeahOeZu+W9leeKtuaAgQogICAgIiRzdG9yZS5zdGF0ZS5pc0xvZ2luIjogZnVuY3Rpb24gJHN0b3JlU3RhdGVJc0xvZ2luKGN1cnJlbnQpIHsKICAgICAgLy8gY29uc29sZS5sb2coY3VycmVudCk7CiAgICAgIGlmIChjdXJyZW50KSB7CiAgICAgICAgdGhpcy5nZXRVc2VyTXVzaWNMaXN0KCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgLy8g5riF56m65pS26JeP5ZKM5Yib5bu65q2M5Y2VCiAgICAgICAgdGhpcy5jcmVhdGVkTXVzaWNMaXN0ID0gW107CiAgICAgICAgdGhpcy5jb2xsZWN0ZWRNdXNpY0xpc3QgPSBbXTsKICAgICAgfQogICAgfQogIH0KfTs="},{"version":3,"sources":["Index.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <el-container>\n    <el-header>\n      <header-bar></header-bar>\n    </el-header>\n    <el-container>\n      <!-- 侧边栏 -->\n      <el-aside width=\"160px\">\n        <el-menu\n          active-text-color=\"black\"\n          router\n          :default-active=\"defaultActive\"\n        >\n          <el-menu-item index=\"/discover\">\n            <i class=\"iconfont icon-yinle\"></i>\n            <span slot=\"title\">音乐发现</span>\n          </el-menu-item>\n          <el-menu-item index=\"/video\">\n            <i class=\"iconfont icon-shipin\"></i>\n            <span slot=\"title\">视频</span>\n          </el-menu-item>\n          <el-menu-item index=\"/favorites\">\n            <i class=\"iconfont icon-more\"></i>\n            <span slot=\"title\">歌曲收藏</span>\n          </el-menu-item>\n          <el-menu-item index=\"/recommendmusic\">\n            <i class=\"iconfont icon-good\"></i>\n            <span slot=\"title\">每日推荐歌曲</span>\n          </el-menu-item>\n          <el-menu-item-group v-if=\"createdMusicList.length != 0\">\n            <template slot=\"title\" class=\"groupTitle\">创建的歌单</template>\n            <el-menu-item\n              v-for=\"(item, index) in createdMusicList\"\n              :key=\"index\"\n              :index=\"'/musiclistdetail/' + item.id\"\n            >\n              <i class=\"iconfont icon-gedan\"></i>{{ item.name }}</el-menu-item\n            >\n          </el-menu-item-group>\n\n          <el-menu-item-group v-if=\"collectedMusicList.length != 0\">\n            <template slot=\"title\" class=\"groupTitle\">收藏的歌单</template>\n            <el-menu-item\n              v-for=\"(item, index) in collectedMusicList\"\n              :key=\"index\"\n              :index=\"'/musiclistdetail/' + item.id\"\n            >\n              <i class=\"iconfont icon-gedan\"></i>{{ item.name }}</el-menu-item\n            >\n          </el-menu-item-group>\n        </el-menu>\n      </el-aside>\n      <!-- 主体内容 -->\n      <el-main>\n        <!-- 给router-view添加key有可能对性能有一定的损耗，\n        但是可以解决push同一个地址不同参数时不会重新渲染router-view的问题 -->\n        <router-view class=\"routerView\" :key=\"$route.fullPath\"></router-view>\n        <!-- 用于下载的a标签 -->\n        <a\n          :href=\"downloadMusicInfo.url\"\n          :download=\"downloadMusicInfo.name\"\n          target=\"_blank\"\n          id=\"downloadCurrentMusic\"\n        ></a>\n      </el-main>\n    </el-container>\n    <bottom-control></bottom-control>\n    <music-detail-card class=\"musicDetailCard\"></music-detail-card>\n  </el-container>\n</template>\n\n<script>\nimport axios from \"axios\";\n\nimport BottomControl from \"components/bottomControl/BottomControl\";\nimport HeaderBar from \"components/headerBar/HeaderBar.vue\";\nimport MusicDetailCard from \"views/musicDetailCard/MusicDetailCard.vue\";\nexport default {\n  components: {\n    BottomControl,\n    HeaderBar,\n    MusicDetailCard,\n  },\n  data() {\n    return {\n      defaultActive: \"\",\n      // 用户信息\n      // userInfo: {},\n      // 创建的歌单\n      createdMusicList: [],\n      // 收藏的歌单\n      collectedMusicList: [],\n      // 下载的音乐的信息\n      downloadMusicInfo: {\n        name: \"\",\n        url: \"\",\n      },\n    };\n  },\n  created() {\n    if (this.$route.path.search(\"/musiclistdetail\") == -1) {\n      this.defaultActive = \"/\" + this.$route.path.split(\"/\")[1];\n    } else {\n      this.defaultActive = this.$route.path;\n    }\n  },\n  methods: {\n    // 请求\n    // 请求用户歌单\n    async getUserMusicList() {\n      if (!this.$store.state.isLogin) {\n        // 说明已经退出登录\n        this.$message.error(\"请先进行登录操作\");\n        return;\n      }\n      let timestamp = Date.parse(new Date());\n      // 先从localStorage里面读取用户信息  如果登录成功是有存的\n      // this.userInfo =\n      //   window.localStorage.getItem(\"userInfo\") &&\n      //   JSON.parse(window.localStorage.getItem(\"userInfo\"));\n\n      let res = await this.$request(\"/user/playlist\", {\n        uid: window.localStorage.getItem(\"userId\"),\n        timestamp,\n      });\n      // console.log(res);\n      // 对数据进行处理分类\n      res = res.data.playlist;\n      let index = res.findIndex((item) => item.subscribed == true);\n      this.createdMusicList = res.slice(0, index);\n      this.collectedMusicList = res.slice(index);\n      this.createdMusicList[0].name = \"我喜欢的音乐\";\n      // console.log(this.createdMusicList, this.collectedMusicList);\n      // 将收藏的歌单上传至vuex\n      this.$store.commit(\"updateCollectMusicList\", this.collectedMusicList);\n      // 将创建的歌单上传至vuex\n      this.$store.commit(\"updateCreatedMusicList\", this.createdMusicList);\n    },\n  },\n  watch: {\n    \n    // 监听收藏歌单的变化\n    \"$store.state.collectMusicList\"(current) {\n      this.collectedMusicList = current;\n    },\n    \"$route.path\"(current) {\n      // 取路由中的首地址 用于侧边栏的导航active\n      if (current.search(\"/musiclistdetail\") == -1) {\n        this.defaultActive = \"/\" + current.split(\"/\")[1];\n      } else {\n        this.defaultActive = current;\n      }\n    },\n\n    // 监听当前下载音乐信息\n    \"$store.state.downloadMusicInfo\"(current) {\n      axios\n        .get(current.url, { responseType: \"blob\" })\n        .then((res) => {\n          let blob = res.data;\n          let url = URL.createObjectURL(blob);\n          // console.log(url);\n          let a = document.querySelector(\"#downloadCurrentMusic\");\n          this.downloadMusicInfo.url = url;\n          this.downloadMusicInfo.name = current.name;\n          this.$nextTick(() => {\n            a.click();\n            // 用完释放URL对象\n            URL.revokeObjectURL(url);\n          });\n        })\n        .catch((err) => {\n          console.log(err);\n          this.$message.error(\"下载失败,请稍后重试!\");\n        });\n\n    },\n    // 监听vuex中的登录状态\n    \"$store.state.isLogin\"(current) {\n      // console.log(current);\n      if (current) {\n        this.getUserMusicList();\n      } else {\n        // 清空收藏和创建歌单\n        this.createdMusicList = [];\n        this.collectedMusicList = [];\n      }\n    },\n  },\n};\n</script>\n\n<style scoped>\n.is-active {\n  background-color: #f6f6f7;\n  font-size: 14px;\n  font-weight: 600;\n}\n\n.iconfont {\n  font-size: 14px;\n  margin: 5px !important;\n}\n\n.routerView {\n  padding: 0 15px;\n  margin: 0;\n  width: 100%;\n  height: calc(80vh - 105px);\n}\n\n.el-header {\n  background-color: #D30000;\n  height: 50px !important;\n  padding: 0;\n  margin: 0;\n  z-index: 100;\n}\n\n.el-aside {\n  border-right: 1px solid #ccc;\n  height: calc(80vh - 105px);\n}\n\n.el-menu {\n  border: none;\n}\n\n.el-menu-item:hover {\n  background-color: #f5f5f6 !important;\n}\n\n.el-menu-item {\n  font-size: 12px;\n  padding: 0 0 0 10px !important;\n  margin: 5px 0 !important;\n  height: 30px;\n  line-height: 30px;\n}\n\n.el-menu-item-group {\n  margin-top: 10px;\n}\n\n.el-main {\n  padding: 0;\n}\n</style>"],"sourceRoot":"src/components"}]}